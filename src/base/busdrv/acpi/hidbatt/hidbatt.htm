<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-
1252">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<TITLE>Hidbatt</TITLE>
</HEAD>
<BODY LINK="#0000ff">

<FONT FACE="Verdana" SIZE=5><H2> Hidbatt </H2>
</FONT><FONT FACE="Verdana" SIZE=2>
<P><span style="color:#FF0000;font-size:10pt;font-family:Arial">[This is preliminary 
documentation and subject to change.]</span></P>

<H3>SUMMARY</H3></FONT><FONT FACE="Verdana" SIZE=2><P>
This is a battery class
driver for devices using the HID power class specification. The driver reads this type of device and
prevents a Microsoft&#174; Windows&#174; battery class device to the system so that it can be treated like any other battery in the system.<P>
The driver works on x86 and Alpha platforms, is 64-bit compliant, and supports Plug and Play.<p>


<H3>BUILDING THE SAMPLE</H3></FONT><FONT FACE="Verdana" 
SIZE=2><P>
Type <b>build</b> from the
\\Ntddk\Src\Wdm\Acpi\Hidbatt directory. A successful build
creates Hidbatt.sys.<p>

<H3>CODE TOUR</H3>
<H4>File Manifest</H4>
</FONT><U><PRE>File&#9;&#9;Description
</U>
Cbattery.cpp&#9;Reads battery information from HID
Cbattery.h&#9;#defines, et cetera, to allow reading battery information from HID
Ckhid.cpp&#9;Basic communication with HID
Ckhid.h &#9;Header for Ckhid.cpp
Ckutils.cpp&#9;Miscellaneous functions
Ckutils.h&#9;Miscellaneous header
Devext.cpp&#9;Device extention initialization
Devext.h &#9;Device extension definition
Drvclass.cpp&#9;Miscellaneous functions used by driver
Drvclass.h&#9;Header for Drvclass.cpp
Hid.h&#9;&#9;C++ class for dealing with HID device
Hidbatt.cpp&#9;Driver entry and major dispatch routines
Hidbatt.h &#9;Header for hidbatt.cpp
Hidbatt.rc&#9;Resource file
Hidbattio.cpp&#9;Battery class interface functions
Hidbattpnp.cpp &#9;Routines called from Plug and Play dispatch routine
Hidpddi.h&#9;#Include header files
Ntddk.h&#9;defines types, constants, and functions that are exposed to device drivers.
Batclass.h&#9;header for wdm kernel client interface between HID class and power class
Hidclass.h&#9;Definitions that are common to clients of the HID class driver.
Wdm.h&#9;	defines WDM types, constants, and functions that are exposed to device drivers
<P>
</FONT><P ALIGN="CENTER"><A HREF="#top"><FONT FACE="Verdana" SIZE=2>Top of page</FONT></A><FONT FACE="Verdana" SIZE=2> </P></FONT>
<TABLE CELLSPACING=0 BORDER=0 WIDTH=624>
<TR><TD VALIGN="MIDDLE" BGCOLOR="#00ffff" HEIGHT=2>
<P></TD>
</TR>
</TABLE>

<FONT FACE="MS Sans Serif" SIZE=1><P>&copy; 1999 Microsoft Corporation</FONT><FONT FACE="Verdana" SIZE=2> </P></FONT></BODY>
</HTML>
