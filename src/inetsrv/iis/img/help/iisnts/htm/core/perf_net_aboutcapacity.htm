<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:myScript="http://iisue">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-16">
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;<http://www.rsac.org/ratingsv01.html>&quot; l comment &quot;RSACi North America Server&quot; by &quot;inet@microsoft.com <mailto:inet@microsoft.com>&quot; r (n 0 s 0 v 0 l 0))">
<meta name="MS.LOCALE" content="EN-US">
<meta name="MS-IT-LOC" content="Internet Information Services">
<meta name="MS-HAID" content="About_Network_Capacity_Planning">
<meta name="description" content="Conceptual information about performance issues related to network capacity.">
<title>About Network Capacity Planning</title><SCRIPT LANGUAGE="JScript" SRC="iishelp.js"></SCRIPT></head>
<body>
<p style="color:red">[This is preliminary documentation and subject to change]</p>
<h1>About Network Capacity Planning</h1><a name="H1_37719965"></a><p>IIS includes many property settings that make it easy for you to
fine-tune site performance. This topic describes properties
associated with network capacity and how to adjust them. It also
makes hardware recommendations based on the volume of traffic or
types of sites you plan to host.</p><p><img src="note.gif" alt="note"><b>
      Note
      </b>To increase advanced performance and capacity
planning for your Web site, you may want to consider <a href="prog_scr_adminscripts.htm"><b>Sample Administration Scripts</b></a>.
Commerce Server 2000 provides a comprehensive set of features to
let developers quickly build scalable, user-centric,
business-to-consumer, and business-to-business e-commerce sites. It
also includes sophisticated business analysis tools to uncover
business opportunities and to refine online business
promotions.</p>
<p>This topic includes:</p><ul><li><a href="#RestrictingBandwidth"><b>Restricting Bandwidth</b></a></li><li><a href="#LimitingConnections"><b>Limiting Connections</b></a></li><li><a href="#NetworkConnectionCapacity"><b>Network Connection
Capacity</b></a></li><li><a href="#ConnectionType"><b>Internet Connection Type</b></a></li><li><a href="#HTTPCompression"><b>HTTP Compression</b></a></li></ul><h2><a name="RestrictingBandwidth">
Restricting Bandwidth</a></h2><p>By throttling the connection bandwidth used by IIS, you can
maintain available bandwidth for other applications, such as e-mail

or news servers. If you are running
more than one Web site on IIS, you can also throttle bandwidth on
each of the Web sites individually. Throttling bandwidth on
individual sites assures that bandwidth is available for all the
sites sharing the network card. Bandwidth throttling
limits only the bandwidth used by static HTML files. 

Also, bandwidth limits set on
individual Web sites overwrite the limits set on the computer
level. For information about how to throttle out-of-process
applications, see <a href="perf_mem_throttling.htm"><b>Throttling Processes</b></a>.</p><p>To determine whether you should throttle the bandwidth of IIS,

or of an individual
site, use the tools described in <a href="perf_tune_about.htm"><b>About Performance Tuning</b></a>. Keep in
mind that while the total number of connection attempts in a day
may give you an idea of the overall activity on your site, you also
need to consider changes in the connection rate (connections per
second) to see if you are having congestion problems at peak times.
If you are regularly using more than 50 percent of your total
connection bandwidth, you may need to consider upgrading your
connection. 

For more information on connection
types, see <a href="perf_net_chooseconn.htm"><b>Choosing the Right Connection</b></a>.<p>If you are just setting up your Web site and have no available
data to analyze, but do plan to run multiple services such as a Web
server, mail server, and news server, you may want to start by
restricting your Web server to 50 percent of the available
bandwidth. Once you have been in operation for a short time, you
can analyze site performance and adjust bandwidth accordingly. To
throttle bandwidth, see <a href="perf_net_throttlebw.htm"><b>Throttling Bandwidth</b></a>.</p></p><h2><a name="LimitingConnections">Limiting
Connections</a></h2><p>If you limit the number of simultaneous connections to a Web
site, you can conserve resources for other services using the same
connection, or other applications using the same computer. When
limiting connections to an individual Web site, remember that most
browsers typically make up to four simultaneous connections to
download text and graphics from a page. All connection attempts
beyond the connection limit are rejected. For instructions on how
to limit connections, see <a href="perf_net_limitconn.htm"><b>Limiting Connections</b></a>.</p><h2><a name="NetworkConnectionCapacity">Network Connection
Capacity</a></h2><p>In addition to the hardware inside your computer, the type of
network connection you have can directly affect server performance.
The bandwidth available to IIS is also affected by other
applications running on the computer that require network
bandwidth, such as e-mail.</p><p>On a moderately busy site, IIS can completely saturate a
100-Mbps Ethernet card. To prevent the server from being restricted
by limited network capacity, use multiple 100-Mbps Ethernet cards.
To check for network saturation, check for CPU % Utilization on
both the client and the server. If neither the client or the server
is restricted by the CPU capacity, then something else is the
problem. Use Network Monitor, included with Windows Whistler
Server, to check the Network Utilization. If the network is close
to 100 percent utilized, for either the client or the server, then
most likely the network is the bottleneck. An Ethernet or
token-based network may have a lower over-utilized value, perhaps
as low as 40 percent. For more information on accessing Network
Monitor, see the Windows Whistler documentation.</p><p>Different brands of network cards perform differently. The
performance of network cards is also affected by the drivers and
driver settings used when configuring the network card. Check with
the maker of your network card to see if updated drivers are
available.</p><p>For information on the symptoms of network saturation, see <a href="perf_net_throttlebw.htm"><b>Throttling Bandwidth</b></a>.</p><h2><a name="ConnectionType">Internet
Connection Type</a></h2><p>Your Internet bandwidth determines how fast data arrives at your
computer and also how many requests can be serviced simultaneously.
If you do not have sufficient bandwidth for the number of requests
coming to your site, delays or failures can occur. The amount of
bandwidth you have is a function of the type of connection you
select. This section discusses the various connection types and
their corresponding capacities. To figure the amount of bandwidth
you need for your site, see <a href="perf_net_chooseconn.htm"><b>Choosing the Right Connection</b></a>.</p><p>Your computer connects to the Internet through a network adapter
card or other network device, such as a modem or ISDN card. The
rate at which your connection transfers data is measured in bits
per second (bps). The following table lists types of connections
and the capacity of each. The connection types described represent
typical levels of service for full Internet connections in North
America and Japan. The Internet services offered through ISPs in
your country/region might differ significantly.</p><p>Internet Connection Types</p><table width="" height=""><tr><th width="" height="" colspan="1" rowspan="1">Connection Type</th><th width="" height="" colspan="1" rowspan="1">Maximum Bandwidth</th></tr><tr><td width="" height="" colspan="1" rowspan="1">Dedicated PPP/SLIP</td><td width="" height="" colspan="1" rowspan="1">Modem speed</td></tr><tr><td width="" height="" colspan="1" rowspan="1">56K (Frame Relay)</td><td width="" height="" colspan="1" rowspan="1">56,000 bps</td></tr><tr><td width="" height="" colspan="1" rowspan="1">ISDN (using PPP)</td><td width="" height="" colspan="1" rowspan="1">56,000-64,000 bps</td></tr><tr><td width="" height="" colspan="1" rowspan="1">T1</td><td width="" height="" colspan="1" rowspan="1">1,540,000 bps</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Fractional T1</td><td width="" height="" colspan="1" rowspan="1">Varies as needed</td></tr><tr><td width="" height="" colspan="1" rowspan="1">T3</td><td width="" height="" colspan="1" rowspan="1">45,000,000 bps</td></tr><tr><td width="" height="" colspan="1" rowspan="1">ATM</td><td width="" height="" colspan="1" rowspan="1">155,000,000 bps</td></tr></table><p>In addition to the number of simultaneous requests you
anticipate supporting, you should also consider the speed at which
your files are sent to users. How fast your files are sent is a
function of connection speed and file size. A general guideline is
that it should take less than five seconds to send a page. This
does not include external graphics, audio, or video. External files
typically load after the text loads. A general rule for external
files is that they should load in less than 30 seconds.</p><p>Once you have determined the amount of bandwidth needed for your
Web or FTP server, consider whether you will be offering other
services that require bandwidth. These services can include
electronic mail (e-mail), news, or audio or video streaming. Be
sure to include enough bandwidth for these services.</p><p>Typically, your Internet connection comes to a router, and a
network adapter card connects your computer to the router. You need
a high-performance network card to prevent a bottleneck between
your Internet connection and your computer. For example, if your
connection to the Internet is a T1 line with a 1.54-Mbps bandwidth,
then having your servers on an Ethernet LAN with a 10-Mbps
bandwidth should be sufficient. However, if you have a T3
connection to the Internet, you should consider putting in a Fiber
Distributed Data Interface (FDDI) LAN for your servers because the
T3 bandwidth of 45-Mbps is much greater than the Ethernet bandwidth
of 10 Mbps.</p><h2><a name="HTTPCompression">HTTP
Compression</a></h2><p>HTTP compression provides faster transmission time between
compression-enabled browsers and IIS. You can either compress
static files alone, or both static files and applications. If your
network bandwidth is restricted, you should consider HTTP
compression, at least for static files, unless your processor
utilization is already extremely high.</p><p>When IIS receives a request, it checks to see if the browser is
compression-enabled. IIS then checks the file name extension to see
if the requested file is a static file or contains dynamic content.
If the file contains static content, IIS checks to see if the file
has previously been requested and is already stored in a compressed
format in the temporary compression directory. If the file is not
stored in a compressed format, IIS sends the uncompressed file to
the browser and adds a compressed copy of the file to the temporary
compression directory. If the file is stored in a compressed
format, IIS sends the compressed file to the browser. No files are
compressed until they have been requested once by a browser.</p><p>If the file contains dynamic content, IIS compresses the file as
it is generated and sends the compressed file to the browser. No
copy of the file is stored.</p><p>The cost of compressing a static file is modest and is typically
incurred only once, because the file is then stored in the
temporary compression directory. The cost of compressing
dynamically generated files is somewhat higher because they are not
stored and must be regenerated with each request. The cost of
expanding the file at the browser is minimal. Compressed files
download faster, which makes them particularly beneficial to the
performance of any browser that uses a network connection with
restricted bandwidth (a modem, for example).</p><p>By default, compressed files are given an expiration date of
January 1, 1997, to prevent proxy servers from serving cached
copies of compressed files to browsers that are not
compression-enabled. This also means that browsers do not display a
cached copy of the file on the next user request but return to the
server for a fresh copy. For instructions on how to set HTTP
compression, see <a href="perf_net_httpcomp.htm"><b>Enabling HTTP Compression</b></a>.</p><hr class="iis" size="1">
<p align="center"><i><a href="/iishelp/common/colegal.htm">© 1997-2001 Microsoft Corporation. All rights reserved.</a></i></p>
</body>
</html>
