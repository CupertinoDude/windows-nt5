<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:myScript="http://iisue">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-16">
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;<http://www.rsac.org/ratingsv01.html>&quot; l comment &quot;RSACi North America Server&quot; by &quot;inet@microsoft.com <mailto:inet@microsoft.com>&quot; r (n 0 s 0 v 0 l 0))">
<meta name="MS.LOCALE" content="EN-US">
<meta name="MS-IT-LOC" content="Internet Information Services">
<meta name="MS-HAID" content="Rapid_Fail_Protection">
<meta name="description" content="Explains how IIS can protect computer resources when the requests to a process begin to fail rapidly.">
<title>Rapid Fail Protection</title><SCRIPT LANGUAGE="JScript" SRC="iishelp.js"></SCRIPT></head>
<body>
<p style="color:red">[This is preliminary documentation and subject to change]</p>
<h2>Rapid Fail Protection</h2><p>When a worker process fails, the communication channel with WAS
is dropped. WAS detects this failure and initiates appropriate
actions, typically sending an error or warning to the event log and
restarting the process. IIS can be configured so that if a
particular application pool experiences consecutive multiple
failures, the application can be automatically disabled, allowing
for rapid fail protection. The application pool is taken out of
service and placed in a mode where the kernel-mode driver
immediately returns a 503 Service Unavailable out-of-service
message to any requests to that application pool. In addition, and
administrator can place any application pool into a out-of-service
mode, if, for example, a serious application problem exists.</p><p>During the restart process after a worker process failure, any
requests that the worker process was in the midst of handling are
lost and Http.sys returns an error. If the process was running
within a Web garden, any subsequent requests that arrive while the
worker process is restarting are routed to other equivalent
processes in the same pool. If the process was not pooled but not
associated with a Web Garden (because only that worker process was
serving the application pool), requests are queued until the
replacement process comes online.</p><p>For example, you have an application pool setup for new
applications. Because this is running on a production system, you
would naturally want to protect your system. Enabling rapid fail
protection prevents the system from thrashing, that is spending
more time starting processes up than actually processing
requests.</p><hr class="iis" size="1">
<p align="center"><i><a href="/iishelp/common/colegal.htm">© 1997-2001 Microsoft Corporation. All rights reserved.</a></i></p>
</body>
</html>
