<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:myScript="http://iisue">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-16">
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;<http://www.rsac.org/ratingsv01.html>&quot; l comment &quot;RSACi North America Server&quot; by &quot;inet@microsoft.com <mailto:inet@microsoft.com>&quot; r (n 0 s 0 v 0 l 0))">
<meta name="MS.LOCALE" content="EN-US">
<meta name="MS-IT-LOC" content="Internet Information Services">
<meta name="MS-HAID" content="FTP_Service_Registry_Entries">
<meta name="description" content="FTP reference information; contains detailed information about FTP registry entries.">
<title>FTP Service Registry Entries</title><SCRIPT LANGUAGE="JScript" SRC="iishelp.js"></SCRIPT></head>
<body>
<p style="color:red">[This is preliminary documentation and subject to change]</p>
<h1>FTP Service Registry Entries</h1><p>In addition to <a href="ref_reg_ssentries.htm"><b>Service-Specific Registry Entries</b></a>,<span></span>
the FTP service maintains the following parameters<span></span>.</p><table width="" height=""><tr><td width="" height="" colspan="1" rowspan="1"><b>AnnotateDirectories</b></td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Registry Path</b>:
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
 \Services\MSFTPSVC\Parameters\ </td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Data Type</b>: REG_DWORD</td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Default value</b>: 0 (disabled)</td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Range</b>: 0,1</td></tr><tr><td width="" height="" colspan="1" rowspan="1">The FTP service supports annotating a directory with custom
messages. The annotation text is stored in a file named
~ftpsvc~.ckm in the directory to be annotated.<span></span>
If <span>this file</span><span>~ftpsvc~.ckm</span> exists in the target
directory of a Change Directory (CWD<span></span>)
FTP operation, the <span>FTP</span> service
responds with the contents of this file for the operation. This
provides a way for administrators to add custom messages for
directories under consideration. By default the service is
configured to not send annotation text. If you choose to add a
custom message, you should also create the annotation file<span></span>.
Also, you should make the annotation file a hidden file so that the
file does not appear on a directory listing.</td></tr></table><table width="" height=""><tr><td width="" height="" colspan="1" rowspan="1"><b>EnablePortAttack</b></td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Registry Path</b>:
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
 \Services\MSFTPSVC\Parameters\ </td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Data Type</b>: REG_DWORD</td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Default value:</b> 0 (disabled)</td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Range</b>: 0,1</td></tr><tr><td width="" height="" colspan="1" rowspan="1">This parameter<span></span>
is <span>set</span><span>disabled</span> by default to prevent a
security problem in the FTP protocol specification. <span>Because</span> EnablePortAttack <span>is disabled by default, you should
enable</span><span>,</span> this flag
<span><span>
i</span></span><span>I</span>f you want
users to connect by using other ports as specified in the FTP
RFC<span></span>.The
FTP service specification allows passive connections to be
established based on the port address given by the client. This can
allow malicious users to execute destructive commands in the FTP
service. The problem occurs when the FTP service connects<span></span>
using a port other than FTP Data port (20) and <span>that</span> port number is less than
IP_PORT_RESERVED (1024)<span><span>;</span></span><span>.</span><b>EnablePortAttack</b> controls if
such an attack should be allowed. By default, the service does not
make any connections to port numbers lower than IP_PORT_RESERVED
(other than 20).</td></tr></table><table width="" height=""><tr><td width="" height="" colspan="1" rowspan="1"><b>LowercaseFiles</b></td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Registry Path</b>:
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
 \Services\MSFTPSVC\Parameters\ </td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Data Type</b>: REG_DWORD</td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Default value:</b> 0 (disabled)</td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Range</b>: 0,1</td></tr><tr><td width="" height="" colspan="1" rowspan="1">The FTP service <span><span>
u</span>ses uppercase</span><span>uses the native cas</span><span><span>e</span><span>is not case sensitive</span></span> for file
names <span>(how the file names
are stored in file system)</span>. <span>However, i</span><span>I</span>n order for <span>exact</span> comparisons with case-sensitive
file systems to work, you <span>may</span> need to ensure that <span>proper</span><span>the
exact</span> file names are <span>used</span><span>compared</span>. Administrators can add <span><b><span>this</span> value</b></span><span><b>LowercaseFiles</b></span><span>to the registry</span> to ensure that the
<span>FTP</span> service <span>also</span> uses lowercase for such
comparisons.</td></tr></table><hr class="iis" size="1">
<p align="center"><i><a href="/iishelp/common/colegal.htm">© 1997-2001 Microsoft Corporation. All rights reserved.</a></i></p>
</body>
</html>
