<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:myScript="http://iisue">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-16">
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;<http://www.rsac.org/ratingsv01.html>&quot; l comment &quot;RSACi North America Server&quot; by &quot;inet@microsoft.com <mailto:inet@microsoft.com>&quot; r (n 0 s 0 v 0 l 0))">
<meta name="MS.LOCALE" content="EN-US">
<meta name="MS-IT-LOC" content="Internet Information Services">
<meta name="MS-HAID" content="CPULoggingMask">
<meta name="description" content="This property contains flags, as listed in the Flags section below, that specify which process accounting and throttling fields should be written to the IIS log file. All enabled fields will be written on every process accounting log. All values logged are for the reset interval in which the logging occurs.">
<title>CPULoggingMask</title><SCRIPT LANGUAGE="JScript" SRC="iishelp.js"></SCRIPT></head>
<body>
<p style="color:red">[This is preliminary documentation and subject to change]</p>
<h3>CPULoggingMask</h3><div><p>This property contains flags, as listed in the Flags section
below, that specify which process accounting and throttling fields
should be written to the IIS log file. All enabled fields will be
written on every process accounting log. All values logged are for
the reset interval in which the logging occurs.</p><p><img src="note.gif" alt="note"><b>
      Note
      </b>Because process accounting in IIS uses
Windows Job Objects to monitor CPU times for an entire process,
process accounting will log and throttle only applications that are
isolated in a separate process from IIS.</p></div><table width="100%" height=""><tr><td width="166" height="" colspan="1" rowspan="1"></td><td width="" height="" colspan="1" rowspan="1"></td></tr><tr><td width="166" height="" colspan="1" rowspan="1"><b>Attribute Name</b></td><td width="" height="" colspan="1" rowspan="1"><b>Attribute Value</b></td></tr><tr><td width="166" height="" colspan="1" rowspan="1">Data Type</td><td width="" height="" colspan="1" rowspan="1">DWORD</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">Attributes</td><td width="" height="" colspan="1" rowspan="1">INHERIT</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">Default Value</td><td width="" height="" colspan="1" rowspan="1">CPULoggingEnabled</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">MetaFlagsEx</td><td width="" height="" colspan="1" rowspan="1">CACHE_PROPERTY_MODIFIED</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">User Type</td><td width="" height="" colspan="1" rowspan="1">IIS_MD_UT_SERVER</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">StartingNumber</td><td width="" height="" colspan="1" rowspan="1"></td></tr><tr><td width="166" height="" colspan="1" rowspan="1">EndingNumber</td><td width="" height="" colspan="1" rowspan="1">0</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">ID</td><td width="" height="" colspan="1" rowspan="1">4507</td></tr></table><div><h3>Access Locations</h3><p>This property is accessible at the following locations:</p><table width="566" height=""><tr><td width="536" height="" colspan="2" rowspan="1"><div></div></td></tr><tr><td width="220" height="" colspan="1" rowspan="1"><b>Metabase Path</b></td><td width="316" height="" colspan="1" rowspan="1"><b>IIS Admin Object Type</b></td></tr><tr><td width="" height="" colspan="1" rowspan="1">/LM/W3SVC/2</td><td width="" height="" colspan="1" rowspan="1">IIsWebServer</td></tr><tr><td width="" height="" colspan="1" rowspan="1">/LM/W3SVC/Info/Templates/Public Web Site</td><td width="" height="" colspan="1" rowspan="1">IIsWebServer</td></tr><tr><td width="" height="" colspan="1" rowspan="1">/LM/W3SVC/Info/Templates/Secure Web Site</td><td width="" height="" colspan="1" rowspan="1">IIsWebServer</td></tr><tr><td width="" height="" colspan="1" rowspan="1">/LM/W3SVC</td><td width="" height="" colspan="1" rowspan="1">IIsWebService</td></tr></table></div><h3>IIS Admin Base Object Information</h3><p>The following table lists additional information required only
for code that uses the IIS Admin Base Object.</p><table width="567" height=""><tr><td width="536" height="" colspan="2" rowspan="1"><div></div></td></tr><tr><td width="221" height="" colspan="1" rowspan="1">Metabase identifier</td><td width="316" height="" colspan="1" rowspan="1"><div>MD_NOTIFY_ORDER_MASK</div></td></tr><tr><td width="221" height="" colspan="1" rowspan="1">Data type</td><td width="316" height="" colspan="1" rowspan="1">DWORD</td></tr><tr><td width="221" height="" colspan="1" rowspan="1">User type</td><td width="316" height="" colspan="1" rowspan="1">IIS_MD_UT_SERVER</td></tr></table><div><h3>Flags</h3><table width="100%" height=""><tr><td width="" height="" colspan="4" rowspan="1"><div><p>Process throttling and process accounting are independently
controlled by several other metabase properties. In order to enable
process accounting you must set <b>CpuEnableLogging</b> (which is a
member of <b>CpuLoggingMask</b>) to TRUE, and set at least one
other <b>CpuLoggingMask</b> property to TRUE. It is also necessary
to set at least one member flag of the <a href="ref_mb_CpuLoggingOptions.htm"><b>CPULoggingOptions</b></a>,
set <a href="ref_mb_CpuLoggingInterval.htm"><b>CPULoggingInterval</b></a> to a nonzero value, and set either <a href="ref_mb_CpuAppEnabled.htm"><b>CPUAppEnabled</b></a> or <a href="ref_mb_CpuCgiEnabled.htm"><b>CPUCGIEnabled</b></a>, as
appropriate, to TRUE.</p><p>To properly activate process throttling, <a href="ref_mb_CpuLimitsEnabled.htm"><b>CPULimitsEnabled</b></a> must
be set to TRUE, and at least one of the following properties should
be set to TRUE: <a href="ref_mb_CpuLimitLogEvent.htm"><b>CPULimitLogEvent</b></a>, <a href="ref_mb_CpuLimitPriority.htm"><b>CPULimitPriority</b></a>, <a href="ref_mb_CpuLimitProcStop.htm"><b>CPULimitProcStop</b></a>, or <a href="ref_mb_CpuLimitPause.htm"><b>CPULimitPause</b></a>.</p></div></td></tr><tr><td width="" height="" colspan="1" rowspan="1"><b>Name</b></td><td width="" height="" colspan="1" rowspan="1"><b>Value</b></td><td width="25%" height="" colspan="1" rowspan="1"><b>Metabase Bitmask Identifier</b></td><td width="" height="" colspan="1" rowspan="1"><b>Description</b></td></tr><tr><td width="" height="" colspan="1" rowspan="1">CPULoggingEnabled</td><td width="" height="" colspan="1" rowspan="1"><div>2147483648 |
0x80000000</div></td><td width="" height="" colspan="1" rowspan="1"><div>
MD_CPU_ENABLE_LOGGING</div></td><td width="" height="" colspan="1" rowspan="1"><div>Specifies whether
process accounting is enabled for the Web service or server.
Process accounting can log the amount of CPU time that is taken by
a Web server or service, as well as any process throttling events
that might occur.</div></td></tr><tr><td width="" height="" colspan="1" rowspan="1">CPUEnableEvent</td><td width="" height="" colspan="1" rowspan="1"><div>1 | 0x01</div></td><td width="" height="" colspan="1" rowspan="1"><div>
MD_CPU_ENABLE_EVENT</div></td><td width="" height="" colspan="1" rowspan="1"><div>Indicates whether the
event (such as start, stop, and site process throttling) that
triggered the creation of a log record is specified in the log
record itself.</div></td></tr><tr><td width="" height="" colspan="1" rowspan="1">CPUEnableProcType</td><td width="" height="" colspan="1" rowspan="1"><div>2 | 0x02</div></td><td width="" height="" colspan="1" rowspan="1"><div>
MD_CPU_ENABLE_PROC_TYPE</div></td><td width="" height="" colspan="1" rowspan="1"><div>Determines whether
process type is recorded when process accounting is
performed.</div></td></tr><tr><td width="" height="" colspan="1" rowspan="1">CPUEnableUserTime</td><td width="" height="" colspan="1" rowspan="1"><div>4 | 0x04</div></td><td width="" height="" colspan="1" rowspan="1"><div>
MD_CPU_ENABLE_USER_TIME</div></td><td width="" height="" colspan="1" rowspan="1"><div>Determines if total
user-mode CPU time is recorded when process accounting is
performed. Setting this flag to True enables logging the total user
CPU time, as a percentage of total CPU time, in 1/1000ths of a
percent.</div></td></tr><tr><td width="" height="" colspan="1" rowspan="1">CPUEnableKernelTime</td><td width="" height="" colspan="1" rowspan="1"><div>8 | 0x08</div></td><td width="" height="" colspan="1" rowspan="1"><div>
MD_CPU_ENABLE_KERNEL_TIME</div></td><td width="" height="" colspan="1" rowspan="1"><div>This flag determines
whether total kernel-mode CPU time is recorded when process
accounting is performed. Setting this flag to True enables logging
the total kernel CPU time, as a percentage of total CPU time, in
1/1000ths of a percent.</div></td></tr><tr><td width="" height="" colspan="1" rowspan="1">CPUEnablePageFaults</td><td width="" height="" colspan="1" rowspan="1"><div>16 | 0x10</div></td><td width="" height="" colspan="1" rowspan="1"><div>
MD_CPU_ENABLE_PAGE_FAULTS</div></td><td width="" height="" colspan="1" rowspan="1"><div>Setting this flag to
True enables logging the total number of page faults when process
accounting is performed.</div></td></tr><tr><td width="" height="" colspan="1" rowspan="1">CPUEnableTotalProcs</td><td width="" height="" colspan="1" rowspan="1"><div>32 | 0x20</div></td><td width="" height="" colspan="1" rowspan="1"><div>
MD_CPU_ENABLE_TOTAL_PROCS</div></td><td width="" height="" colspan="1" rowspan="1"><div>Setting this flag to
True enables logging the total number of processes when process
accounting is performed.</div></td></tr><tr><td width="" height="" colspan="1" rowspan="1">CPUEnableActiveProcs</td><td width="" height="" colspan="1" rowspan="1"><div>64 | 0x40</div></td><td width="" height="" colspan="1" rowspan="1"><div>
MD_CPU_ENABLE_ACTIVE_PROCS</div></td><td width="" height="" colspan="1" rowspan="1"><div>Setting this flag to
True enables logging the total number of active processes when
process accounting is performed.</div></td></tr><tr><td width="" height="" colspan="1" rowspan="1">CPUEnableTerminatedProcs</td><td width="" height="" colspan="1" rowspan="1"><div>128 | 0x80</div></td><td width="" height="" colspan="1" rowspan="1"><div>
MD_CPU_ENABLE_TERMINATED_PROCS</div></td><td width="" height="" colspan="1" rowspan="1"><div>Setting this flag to
True enables logging the total number of terminated processes when
process accounting is performed.</div></td></tr></table></div><div><p>Related Topics</p><table width="" height=""><tr><td width="" height="" colspan="1" rowspan="1"><a href="ref_mb_cpuloggingoptions.htm"><b>CPULoggingOptions</b></a></td></tr></table></div><hr class="iis" size="1">
<p align="center"><i><a href="/iishelp/common/colegal.htm">© 1997-2001 Microsoft Corporation. All rights reserved.</a></i></p>
</body>
</html>
