<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:myScript="http://iisue">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-16">
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;<http://www.rsac.org/ratingsv01.html>&quot; l comment &quot;RSACi North America Server&quot; by &quot;inet@microsoft.com <mailto:inet@microsoft.com>&quot; r (n 0 s 0 v 0 l 0))">
<meta name="MS.LOCALE" content="EN-US">
<meta name="MS-IT-LOC" content="Internet Information Services">
<meta name="MS-HAID" content="CPULimitLogEvent">
<meta name="description" content="This metabase property specifies the percentage of CPU time, in 1/1000ths of a percent, that all isolated processes on the Web server are allowed to occupy during a given process accounting interval (specified by CpuResetInterval). If the processes attempt to occupy more CPU time than specified in CpuLimitLogEvent, a note will be made in the Windows Event Log that the processes have exceeded the limits. If process accounting is enabled, the limit overrun will also be entered into the IIS log.">
<title>CPULimitLogEvent</title><SCRIPT LANGUAGE="JScript" SRC="iishelp.js"></SCRIPT></head>
<body>
<p style="color:red">[This is preliminary documentation and subject to change]</p>
<h3>CPULimitLogEvent</h3><div><p>This metabase property specifies the percentage of CPU time, in
1/1000ths of a percent, that all isolated processes on the Web
server are allowed to occupy during a given process accounting
interval (specified by <a href="ref_mb_cpuresetinterval.htm"><b>CPUResetInterval</b></a>). If the processes attempt to occupy more
CPU time than specified in <b>CpuLimitLogEvent</b>, a note will be
made in the Windows Event Log that the processes have exceeded the
limits. If process accounting is enabled, the limit overrun will
also be entered into the IIS log.</p><p>If <b>CpuLimitLogEvent</b> is set to 0, or a value greater than
100,000 (100 percent), IIS will not log any events against the
process. However, one of the other process throttling properties,
such as <a href="ref_mb_cpulimitpriority.htm"><b>CPULimitPriority</b></a>, <a href="ref_mb_cpulimitprocstop.htm"><b>CPULimitProcStop</b></a>, or <a href="ref_mb_cpulimitpause.htm"><b>CPULimitPause</b></a>, could generate a response from IIS if a CPU
limit is exceeded.</p><p><img src="note.gif" alt="note"><b>
      Note
      </b>Because process accounting in IIS uses
Windows Job Objects to monitor CPU times for an entire process,
process accounting will log and throttle only applications that are
isolated in a separate process from IIS.</p><p>Process throttling and process accounting are independently
controlled by several other metabase properties. In order to enable
process accounting, you must set <b>CpuEnableLogging</b> (which is
a member of <a href="ref_mb_cpuloggingmask.htm"><b>CPULoggingMask</b></a>) to TRUE, and set at least one other <a href="ref_mb_cpuloggingmask.htm"><b>CPULoggingMask</b></a> property
to TRUE. It is also necessary to set at least one flag of <a href="ref_mb_cpuloggingoptions.htm"><b>CPULoggingOptions</b></a>,
set <a href="ref_mb_cpuloggingoptions.htm"><b>CPULoggingOptions</b></a> to a nonzero value, and set either <a href="ref_mb_cpuappenabled.htm"><b>CPUAppEnabled</b></a> or <a href="ref_mb_cpucgienabled.htm"><b>CPUCGIEnabled</b></a>, as
appropriate, to TRUE.</p><p>To properly activate process throttling, <a href="ref_mb_cpulimitsenabled.htm"><b>CPULimitsEnabled</b></a> must
be set to TRUE, and at least one of the following properties should
be set to TRUE: <b>CpuLimitLogEvent</b>, <a href="ref_mb_cpulimitpriority.htm"><b>CPULimitPriority</b></a>, <a href="ref_mb_cpulimitprocstop.htm"><b>CPULimitProcStop</b></a>, or
<a href="ref_mb_cpulimitpause.htm"><b>CPULimitPause</b></a>.</p><img src="important.gif" alt="important"><span style="color:blue;"><b>
     Important
      </b></span>Applications that do not have process
throttling enabled do not contribute to the total CPU time for the
purposes of calculating CPU limit overruns.</div><table width="100%" height=""><tr><td width="166" height="" colspan="1" rowspan="1"></td><td width="" height="" colspan="1" rowspan="1"></td></tr><tr><td width="166" height="" colspan="1" rowspan="1"><b>Attribute Name</b></td><td width="" height="" colspan="1" rowspan="1"><b>Attribute Value</b></td></tr><tr><td width="166" height="" colspan="1" rowspan="1">Data Type</td><td width="" height="" colspan="1" rowspan="1">DWORD</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">Attributes</td><td width="" height="" colspan="1" rowspan="1">INHERIT</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">Default Value</td><td width="" height="" colspan="1" rowspan="1">0</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">MetaFlagsEx</td><td width="" height="" colspan="1" rowspan="1">CACHE_PROPERTY_MODIFIED</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">User Type</td><td width="" height="" colspan="1" rowspan="1">IIS_MD_UT_SERVER</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">StartingNumber</td><td width="" height="" colspan="1" rowspan="1"></td></tr><tr><td width="166" height="" colspan="1" rowspan="1">EndingNumber</td><td width="" height="" colspan="1" rowspan="1">0</td></tr><tr><td width="166" height="" colspan="1" rowspan="1">ID</td><td width="" height="" colspan="1" rowspan="1">2149</td></tr></table><div><h3>Access Locations</h3><p>This property is accessible at the following locations:</p><table width="566" height=""><tr><td width="536" height="" colspan="2" rowspan="1"><div></div></td></tr><tr><td width="220" height="" colspan="1" rowspan="1"><b>Metabase Path</b></td><td width="316" height="" colspan="1" rowspan="1"><b>IIS Admin Object Type</b></td></tr><tr><td width="" height="" colspan="1" rowspan="1">/LM/W3SVC/Info/Templates/Public Web Site</td><td width="" height="" colspan="1" rowspan="1">IIsWebServer</td></tr><tr><td width="" height="" colspan="1" rowspan="1">/LM/W3SVC/Info/Templates/Secure Web Site</td><td width="" height="" colspan="1" rowspan="1">IIsWebServer</td></tr><tr><td width="" height="" colspan="1" rowspan="1">/LM/W3SVC</td><td width="" height="" colspan="1" rowspan="1">IIsWebService</td></tr></table></div><h3>IIS Admin Base Object Information</h3><p>The following table lists additional information required only
for code that uses the IIS Admin Base Object.</p><table width="567" height=""><tr><td width="536" height="" colspan="2" rowspan="1"><div></div></td></tr><tr><td width="221" height="" colspan="1" rowspan="1">Metabase identifier</td><td width="316" height="" colspan="1" rowspan="1"><div>MD_CPU_LIMIT_LOGEVENT</div></td></tr><tr><td width="221" height="" colspan="1" rowspan="1">Data type</td><td width="316" height="" colspan="1" rowspan="1">DWORD</td></tr><tr><td width="221" height="" colspan="1" rowspan="1">User type</td><td width="316" height="" colspan="1" rowspan="1">IIS_MD_UT_SERVER</td></tr></table><hr class="iis" size="1">
<p align="center"><i><a href="/iishelp/common/colegal.htm">© 1997-2001 Microsoft Corporation. All rights reserved.</a></i></p>
</body>
</html>
