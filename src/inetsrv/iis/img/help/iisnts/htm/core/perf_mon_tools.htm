<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:myScript="http://iisue">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-16">
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;<http://www.rsac.org/ratingsv01.html>&quot; l comment &quot;RSACi North America Server&quot; by &quot;inet@microsoft.com <mailto:inet@microsoft.com>&quot; r (n 0 s 0 v 0 l 0))">
<meta name="MS.LOCALE" content="EN-US">
<meta name="MS-IT-LOC" content="Internet Information Services">
<meta name="MS-HAID" content="Tools_Used_to_Monitor_Performance">
<meta name="description" content="Describes Microsoft tools for monitoring server performance and scalability.">
<title>Tools Used to Monitor Performance</title><SCRIPT LANGUAGE="JScript" SRC="iishelp.js"></SCRIPT></head>
<body>
<p style="color:red">[This is preliminary documentation and subject to change]</p>
<h1>Tools Used to Monitor Performance</h1><p>Monitoring your server is a crucial part of server
administration. By using appropriate monitoring tools, you can
detect server problems, evaluate the results of changes to your Web
site content, and plan upgrades to make your sites more accessible
to users. The appropriate monitoring tool and method depends on the
information you need. </p><p>You can also monitor your server by examining logs generated by
IIS. These logs extend beyond those generated by
Windows Whistler. For information about logging, see <a href="log_logging.htm"><b>Logging Site Activity</b></a>.</p><p>The following monitoring tools can provide both moment-to-moment
and summary information:</p><ul><li><a href="#Sysmon"><b>System Monitor</b></a></li><li><a href="#perflogalert"><b>Performance Logs and Alerts</b></a></li><li><a href="#eventviewer"><b>Event Viewer</b></a></li><li><a href="#Taskman"><b>Task Manager</b></a></li><li><a href="#Netmon"><b>Network Monitor</b></a></li><li><a href="#WAST"><b>Microsoft Web Application Stress Tool
(WAST)</b></a></li><li><a href="#ACT"><b>Application Center Test (ACT)</b></a></li></ul><h2><a name="Sysmon">System Monitor</a></h2><p>The Windows performance monitoring tool, System Monitor
(formerly known as Performance Monitor) is an MMC snap-in that you
can use to monitor your server's activity and summarize its
performance at selected intervals. With this tool, you can display
performance data in real-time charts or reports, collect data in
files, and generate alerts when critical events occur. The data can
be used to determine the cause of system bottlenecks and to
fine-tune system and application performance.</p><p>System Monitor examines the output of performance counters.
Performance counters monitor the activity of specific performance
objects. In other words, performance counters monitor specific
services or mechanisms controlling server resources. For example,
if you click the <b>Add</b> button (the plus sign) on the System
Monitor toolbar, you can view a list of performance object from the
Performance Object drop-down list. Select the Processor object to
view a list of corresponding counters, like the % Processor Time
counter. From this window, you can add or remove counters to the
graphic display of System Monitor, or you can configure the
counters to log in a particular way. Numerous counters running at
the same time can cause a small decrease in performance, so be
selective. </p><p>Windows Whistler includes hundreds of counters. IIS
installs its own counters, including Web service, Web service
cache, FTP service, and Active Server Pages. The Web and FTP
service counters and Active Server Pages object counters monitor
connection activity for scripts. Counters typically measure in
terms of how much, how many, or how long. Keep this in mind when
selecting what counters you want to display. For a detailed list of
counters related to performance, see the <a href="ref_we_counters.htm"><b>Counters Reference</b></a>.</p><p>System Monitor is designed to provide both short-term and
long-term information about the load on your server and sites. The
following table lists some useful counters and provides ideal
average values for each counter. The System Monitor graph plots on
a scale of zero to 100 (by default), so it may be necessary to
change the scale for individual counters that register small
values. </p><table width="" height=""><tr><th width="" height="" colspan="1" rowspan="1">Object\Counter</th><th width="" height="" colspan="1" rowspan="1">Ideal Value</th></tr><tr><td width="" height="" colspan="1" rowspan="1">Memory\Pages/sec</td><td width="" height="" colspan="1" rowspan="1">0-20 (if over 80, indicates trouble).</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Memory\Available Bytes</td><td width="" height="" colspan="1" rowspan="1">At least 20 MB.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Memory\Committed Bytes</td><td width="" height="" colspan="1" rowspan="1">Not more than about 75 percent of physical memory size.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Memory\Pool Nonpaged Bytes</td><td width="" height="" colspan="1" rowspan="1">Steady (slow rise may indicate a memory leak).</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Processor\% Processor Time</td><td width="" height="" colspan="1" rowspan="1">Less than 75 percent.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Processor\System Processor Queue Length</td><td width="" height="" colspan="1" rowspan="1">4 or less.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">(Logical or Physical) Disk\ % Disk Time</td><td width="" height="" colspan="1" rowspan="1">As low as possible.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">(Logical or Physical) Disk\ Avg. Disk Queue Length</td><td width="" height="" colspan="1" rowspan="1">Less than 4.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">(Logical or Physical) Disk\ Avg Disk Bytes/Transfer</td><td width="" height="" colspan="1" rowspan="1">As high as possible.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">System\Context Switches/sec</td><td width="" height="" colspan="1" rowspan="1">Monitor to make certain this number is low (relative to the
number of system calls/sec)</td></tr><tr><td width="" height="" colspan="1" rowspan="1">System\System Calls/sec</td><td width="" height="" colspan="1" rowspan="1">As low as possible.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Web Service\Bytes Total/sec</td><td width="" height="" colspan="1" rowspan="1">As high as possible.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Web Service Cache\File Cache Hits %</td><td width="" height="" colspan="1" rowspan="1">As high as possible (static content). 

<p><img src="note.gif" alt="note"><b>
      Note
      </b>This value could be low if the Kernel URI Cache
Hits % is high.</p><br><br></td></tr><tr><td width="" height="" colspan="1" rowspan="1">Web Service Cache\Kernel: URI Cache Flushes</td><td width="" height="" colspan="1" rowspan="1">Monitor to make certain this number is low (relative to the
number of requests)</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Web Service Cache\Kernel: URI Cache Misses</td><td width="" height="" colspan="1" rowspan="1">As low as possible.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Web Service Cache\Kernel: URI Cache Hits %</td><td width="" height="" colspan="1" rowspan="1">As high as possible (static content).</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Active Server Pages\Request Wait Time</td><td width="" height="" colspan="1" rowspan="1">As low as possible.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Active Server Pages\Requests Queued</td><td width="" height="" colspan="1" rowspan="1">As low as possible.</td></tr><tr><td width="" height="" colspan="1" rowspan="1">Active Server Pages\Transactions/sec</td><td width="" height="" colspan="1" rowspan="1">As high as possible. 

<p><img src="note.gif" alt="note"><b>
      Note
      </b>ASP transactions degrade overall server performance
because each transaction requires a trip to a database. If you are
concerned with performance on your machine, use ASP transactions
sparingly.</p>
</td></tr></table><p>For more information about this tool, see the Windows Whistler
online Help.</p><h2><a name="perflogalert">Performance Logs and
Alerts</a></h2><p>Performance Logs and Alerts contains features for logging
counter and event trace data and for generating performance alerts.
With counter logs, you can record data about hardware usage and the
activity of system services from local or remote computers. Logging
can occur manually on demand or automatically based on a
user-defined schedule. Continuous logging, subject to file-size or
duration limits, is also available. Logged data can be viewed using
the System Monitor display or can be exported to spreadsheet
programs or databases for analysis and report generation.</p><p>Trace logs record data as certain activity occurs, for example
disk I/O or page faults. When the event occurs, the provider sends
the data to the log service. For more information about this tool,
see the Windows Whistler online Help.</p><h2><a name="eventviewer">Event Viewer</a></h2><p>Windows Whistler includes an event-logging service, which
records events such as errors or the successful starting of a
service. You can view these logs with the Event Viewer. You can
also use Event Viewer to monitor system, security, and application
event logs. With this information you can better understand the
sequence and types of events that led up to a particular
performance problem. For more information about this tool, see the
Windows Whistler online Help.</p><h2><a name="Taskman">Task Manager</a></h2><p>Task Manager can be used to view ongoing tasks and threads. It
can also be used to change the assigned priority of processes.
However, once the process has completed, the new priority setting
is lost. CPU and memory usage can be seen in real time, but
information is not saved over time. The Task Manager also includes
Networking and User information. For more information about this
tool, see the Windows Whistler online Help.</p><h2><a name="Netmon">Network Monitor</a></h2><p>Network Monitor captures network traffic information and gives
detailed information about the frames being sent and received. This
tool can help you analyze complex patterns of network traffic.
Network Monitor can help you view the header information included
in HTTP and FTP requests. Generally, you need to design a <i>
capture filter</i>, which functions like a database query and
singles out a subset of the frames being transmitted. You can also
use a <i>capture trigger</i> that responds to events on your
network by initiating an action, such as starting an executable
file. A "lite" version of Network Monitor ships with Windows
Whistler Server. A "full" version of Network Monitor ships with
Systems Management Server. For more information about this tool,
see the Windows Whistler online Help.</p><h2><a name="WAST">Microsoft Web Application Stress Tool
(WAST)</a></h2><p>The Microsoft Web Application Stress Tool (WAST) is designed to
realistically simulate multiple browsers requesting pages from a
Web application. WAST can be used to generate customizable loads on
various Internet services. WAST does have a limitation on the
number of URLs that can be stressed at one time (approximately
100). For this reason, when testing large quantities of sites, WAST
may need to be used in conjunction with other tools like the
Microsoft Web Capacity Analysis Tool (WCAT). The Web Application
Stress Tool is available on the Windows 2000 Resource Kit Companion
CD or from the Microsoft Web Application Stress Tool site <a href="http://webtool.rte.microsoft.com/" target="_New"><b>
http://webtool.rte.microsoft.com/</b></a>. Microsoft.com also houses
information on testing tools, including scenarios and results. For
more information, see <a href="http://www.microsoft.com/TechNet/ecommerce/d5wast_2.asp" target="_New"><b>
Performance Testing with the Web Application Stress Tool</b></a></p><h2><a name="ACT">Application Center Test (ACT)</a></h2><p>Microsoft <b></b> Application Center Enterprise Edition ships
with a variety of high-end server monitoring tools like <a href="http://www.microsoft.com/applicationcenter" target="_New"><b>
Application Center Test (ACT)</b></a>. </p><div><p><b>Related Topics</b></p><ul><li>For more information about Performance Testing, see <a href="perf_tune_about.htm"><b>About Performance Tuning</b></a>.</li><li>For more information about Scalability Testing, see <a href="perf_scal_scaltesting.htm"><b>Scalability Testing</b></a>.</li></ul></div><hr class="iis" size="1">
<p align="center"><i><a href="/iishelp/common/colegal.htm">© 1997-2001 Microsoft Corporation. All rights reserved.</a></i></p>
</body>
</html>
