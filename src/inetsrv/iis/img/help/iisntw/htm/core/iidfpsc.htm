<!doctype html public "-//W3C//DTD HTML 3.2//EN">
<html dir=ltr><head><title>Setting NTFS Permissions for a Directory or File</title>

<SCRIPT LANGUAGE="JavaScript">
<!--
	TempString = navigator.appVersion
	if (navigator.appName == "Microsoft Internet Explorer"){	
// Check to see if browser is Microsoft
		if (TempString.indexOf ("4.") >= 0){
// Check to see if it is IE 4
			document.writeln('<link rel="stylesheet" type="text/css" href="/iishelp/common/coua.css">');
		}
		else {
			document.writeln('<link rel="stylesheet" type="text/css" href="/iishelp/common/cocss.css">');
		}
	}
	else if (navigator.appName == "Netscape") {						
// Check to see if browser is Netscape
		document.writeln('<link rel="stylesheet" type="text/css" href="/iishelp/common/coua.css">');
	}
	else
		document.writeln('<link rel="stylesheet" type="text/css" href="/iishelp/common/cocss.css">');
//-->
</script> 

<SCRIPT LANGUAGE="VBScript">
<!--
Sub Window_OnLoad()
   Dim frmContents
   On Error Resume Next
   If Not Parent Is Nothing Then
      Set frmContents = Parent.Contents
      If Not frmContents Is Nothing Then
            frmContents.Window.TOCSynch_Click
      End If
   End If
End Sub
//--></SCRIPT>

<meta name="DESCRIPTION" content="Procedural information on setting NTFS permissions to control access to your Web server content.  You can use NTFS permissions to define the level of access that you wish to grant to specific users and groups of users who have a valid Windows accounts.">
<META HTTP-EQUIV="Content-Type" content="text/html; charset=Windows-1252">

<META HTTP-EQUIV="PICS-Label" CONTENT='(PICS-1.1 "<http://www.rsac.org/ratingsv01.html>" l comment "RSACi North America Server" by "inet@microsoft.com <mailto:inet@microsoft.com>" r (n 0 s 0 v 0 l 0))'>
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="MS-IT-LOC" Content="Internet Information Services">

</head>

<body bgcolor="#FFFFFF" text="#000000"><font face="Verdana,Arial,Helvetica">

<h1><a name="settingaccesspermissionforadirectoryorfile">Setting NTFS Permissions for a Directory or File</a></h1>

<p>You can control access to your Web server's directories and files by setting NTFS access permissions.  You can use NTFS permissions to define the level of access that you want to grant to specific users and groups of users, with valid Windows accounts. Proper configuration of file and directory permissions is crucial for preventing unauthorized access. For more information, see <a href="iiacnsc.htm">About Access Control</a> or the Windows documentation.</p> 

<p>When you share a directory or file, the default access settings for NTFS directories and files grants <em>Full Control</em> access to the Windows user group <em>Everyone</em>, which includes all users.  This means that all users have permission to modify, move, and delete files or directories, and to change NTFS permissions. This default setting may not be appropriate for all directories and files.</p>

<p>Making your server secure involves removing unnecessary users and groups, or groups that are too general for your purposes. However, removing the Everyone group from the discretionary access control list (DACL), on your Web resources without further modification will cause even non-anonymous access to fail. If you want to have non-anonymous access work correctly you must have the following permissions plus any specific users or users groups:
<ul>
<li>Administrator [full control]</li>
<li>Creator/Owner [full control]</li>
<li>System [full control]</li>
</ul></p>

<p><strong>Note</strong>&nbsp;&nbsp;&nbsp;If you do not see the <strong>Security</strong> tab in the drive, directory, or file property sheets, your server's file system is not configured as NTFS. To convert the file system to NTFS, see the Windows documentation.</P>

<big>To change NTFS permissions for a directory or file</big><br>
<ol>
<li>Open <strong>My Computer</strong>, select the drive, directory, or file you want to secure, and open its property sheets.</li>
<li>On the <strong>Security</strong> property sheet, select the Windows account you want to change permissions for.</li>
<li>Under <strong>Permissions</strong>, select the types of access for the selected user or group. Use <strong>Allow</strong> to specifically allow access and <strong>Deny</strong> to specifically deny access. For more choices, click <strong>Advanced</strong>.</li> For more information about the various permissions, see the Windows documentation.
<p><strong><font color="#0000FF">Important</font></strong>&nbsp;&nbsp;&nbsp;Be careful when using <strong>Deny</strong>. <strong>Deny</strong> takes precedence over <strong>Allow</strong>. Applying <strong>Deny</strong> to the Everyone group might close the resource to that level of access by <em>anyone</em>, including the Administrator.</P>
</ol>

<big>To add or remove Windows accounts to the NTFS permissions for a directory or file</big><br>
<ol>
<li>On the <strong>Security</strong> property sheet, click <strong>Add</strong> to add users and groups.</li>
<li>On the <strong>Security</strong> property sheet, click <strong>Remove</strong> to remove users and groups.</li>
<li>In the <strong>Select Users, Computers, or Groups</strong> dialog box, select a computer or domain from the list or enter a name in the <strong>Name</strong> text box.</li>
<li>You can continue to add users or groups. The lower list will contain those users and groups you have selected or entered.</li>
<li>Click <strong>OK</strong> to add these to the list on the <strong>Security </strong> property sheet.</li>
<li>In the <strong>Name</strong> list box, select a user or group that you want to grant access to your file or directory.</li>
</li>
</ol>

<p><strong>Note</strong>&nbsp;&nbsp;&nbsp;If there are conflicts between your NTFS and Web server permissions, the most restrictive settings will be used.  This means that permissions that explicitly deny access always take precedence over those permissions that grant access.</p>


<hr class="iis" size="1"><p align=center><em><a href="/iishelp/common/colegal.htm">&copy; 1997-2001 Microsoft Corporation. All rights reserved.</a></em></p>

</font>
</body>
</html>
