<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<Title>Configuring BITS Extensions</Title>
</HEAD>
<BODY bgcolor=#f0f0b0>

<H3>Configuring BITS Extensions</H3>

<P>Use the BITS Extensions property page in MMC to configure the BITS Extensions for an IIS virtual directory.   To open the property page, click properties on virtual directory in MMC and select the "BITS Extensions" tab. 

<H4>Enable BITS Uploads</H4>

<P>Enables uploads from the BITS client into this virtual directory.  If not enabled, BITS clients that attempt an upload will be denied access.</P>

<H4>Use Inherited Configuration</H4>

<P>Use the default configuration for this virtual directory.   If this directory is embedded in another virtual directory and the outer virtual directory defines a custom configuration, then that configuration will be used instead of the defaults.</P>

<H4>Use Custom Configuration</H4>

<P>Use the configuration information from this property page.   No default or inherited settings will be used.</P>

<H4>Limit Maximum Upload Size</H4>

<P>If enabled, sets the maximum amount of data that can be uploaded in a single BITS job.  If not enabled, an unlimited amount of data will be permited.</P>

<H4>Delete Incomplete Files</H4>

<P>If enabled, incomplete uploads will be deleted if no progress is made for the specified time period.   The timeout is checked each time the MSTASK cleanup work item is run.   Click <A HREF="#cleanup">Schedule Cleanup</A> to configure the frequency for which the timeout should be checked for this virtual directory.</P>

<H4>Enable Server Farm Support</H4>
<P>If enabled, forces a client to reconnect using the specified name instead of the name used by the client.   This allows clients which are uploading to server farms to continue uploading to the same server that the upload was started with.   Uploading to web farms is not recommended without enabling and configuring this feature.</P>

<H5><A NAME="reconnect">Reconnect to </H5>
<P> Specifies the name to use for reconnecting to this server.   The name must uniquely indentify this server.  Either a public server name or a public IP address may be used.</P>

<H5> Fallback after </H5>
<P> After hitting an error, clients will continue attempting to reconnect to the server using the <A HREF="#reconnect">Reconnect To</A> name until this timeout is exceeded. After the timeout is exceeded, clients will fallback to the original name.</P>

<H4>Enable Notifications</H4>

<P>Enables notifications for this virtual directory.  The <A HREF="#notificationtype">Notification Type</A> and <A HREF="#notificationurl">Notification URL</A> settings are required if this setting is enabled. </P>

<H4><A NAME="notificationtype">Notification Type</A></H4>

<P>Configures the type of notification to perform after the job is uploaded.</P>

<TABLE BORDER=1 >

<TBODY>

<TR>
<TD> <A NAME="byref">Byref POST Notification</A></TD>
<TD> The server will pass the path to the completed upload file to the URL indicated by the <A HREF="#notificationurl">Notification URL</A> setting.  The server may return a file to the client. </TD>
</TR>

<TR>
<TD> <A NAME="byval">Byval POST Notification</A></TD>
<TD> The server will pass the entire completed upload file to the URL indicationed by the <A HREF="#notificationurl">Notification URL</A> as the entity of the POST.   The response entity will be sent to the client.
</TR>

</TBODY>

</TABLE>   

<H4><A NAME="notificationurl">Notification URL</A></H4>

<P>Indicates the URL to pass the completed upload file to via a POST request if the Notification Type is <A HREF="#byval">Byval POST Notification</A> or <A HREF="#byref">Byref POST Notification</A>.  The URL may be absolute or self-relative.  If the URL is self-relative, then the original request URL is used as the base. </P>

<H4><A NAME="cleanup">Schedule Cleanup</A></H4>

<P>Configures the frequency for which BITS Extensions should scan this virtual directory for incomplete files.    If an incomplete upload is found, the file is checked against the timeout value.   If progress has not been made on this file for longer then the timeout period, the upload is automatically cancelled.  This setting is not affected by inheritance and applies only to this virtual directory. </P>

<H4>Cleanup Now</H4>

<P>Starts a check for files which have had no progress since the timeout period.   To remove all incomplete files for this virtual directory, set the timeout value to 0 before running the cleanup.</P>  
</BODY>
</HTML>
