!IF 0

Copyright (c) 1996  Microsoft Corporation

Module Name:

    sources.

    Abstract:

    Builds the DINPUT8.LIB file.

    We can't use the standard way, because the C compiler will not allow
    you to put OBJs created via a precompiled header into a library.

    Not my idea.

Author:

    RaymondC

History:
    Date        By          Reason
    ====        ==          ======
    1996-       RaymondC    first version (DX3)
    2000-Dec-06 MarcAnd     Brought back for DX8a

!ENDIF

MAJORCOMP=windows
MINORCOMP=media
UMTYPE=windows

TARGETNAME=dinput8
TARGETTYPE=LIBRARY
NTDEBUG=ntsdnodbg

TARGETPATH=obj

#keep debug info out of lib to save space 
!undef NTDEBUG
!undef NTBBT

!ifndef DXROOT
DXROOT=$(BASEDIR)\MultiMedia\DirectX
!endif

!INCLUDE $(DXROOT)\Project.mk

INCLUDES=$(INCLUDES); \
        ..\;\
        $(DXROOT)\inc;\

SOURCES=\
    ..\dilib1.c \
    ..\dilib2.c \
    ..\dilib3.c \
    ..\dilib4.c \
    ..\dilib5.c \


DLLLIBOBJECTS=\
    $O\dilib1.obj \
    $O\dilib2.obj \
    $O\dilib3.obj \
    $O\dilib4.obj \
    $O\dilib5.obj \


!IF !$(FREEBUILD) && defined( DIRECTX_REDIST )
TARGETNAME=$(TARGETNAME)d
!ENDIF

#
#  Make sure the DLL(s) have completed building before building the LIB.
#  The LIB generated by the DLL build is the foundation of the public LIB.
#
SYNCHRONIZE_DRAIN=1

#
# The Win9x and NT files are identical, so use the NT one as 
# the Win9x one is not always built
#
HEADEROBJNAME=..\daytona\$O\$(TARGETNAME).lib

# Always publish using the retail name from whatever we built
PASS1_PUBLISH=\
        { $(O)\$(TARGETNAME).lib = $(SDK_LIB_PATH)\dinput8.lib }\

