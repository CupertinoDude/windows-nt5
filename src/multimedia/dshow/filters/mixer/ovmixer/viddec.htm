<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./VidDec_files/filelist.xml">
<title>Video Decimation</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Stephen Estrop</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Stephen Estrop</o:LastAuthor>
  <o:Revision>43</o:Revision>
  <o:TotalTime>1345</o:TotalTime>
  <o:LastPrinted>1999-07-01T18:33:00Z</o:LastPrinted>
  <o:Created>1999-05-05T22:46:00Z</o:Created>
  <o:LastSaved>1999-07-01T21:35:00Z</o:LastSaved>
  <o:Pages>6</o:Pages>
  <o:Words>1112</o:Words>
  <o:Characters>6341</o:Characters>
  <o:Company>Microsoft</o:Company>
  <o:Lines>52</o:Lines>
  <o:Paragraphs>12</o:Paragraphs>
  <o:CharactersWithSpaces>7787</o:CharactersWithSpaces>
  <o:Version>9.2720</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Print</w:View>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	border:none;
	mso-border-top-alt:solid windowtext .5pt;
	padding:0in;
	mso-padding-alt:1.0pt 0in 0in 0in;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;
	font-weight:bold;}
h2
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
h4
	{margin-right:0in;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:4;
	font-size:12.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
p.MsoBodyTextIndent, li.MsoBodyTextIndent, div.MsoBodyTextIndent
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyTextIndent2, li.MsoBodyTextIndent2, div.MsoBodyTextIndent2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:9.0pt;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{margin-right:0in;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
code
	{mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Courier New";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Courier New";}
p.Code, li.Code, div.Code
	{mso-style-name:Code;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:998928185;
	mso-list-type:hybrid;
	mso-list-template-ids:1428164764 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l1
	{mso-list-id:2068381901;
	mso-list-type:hybrid;
	mso-list-template-ids:-402587862 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<div style='border:none;border-top:solid windowtext .5pt;padding:1.0pt 0in 0in 0in'>

<h1 align=right style='text-align:right'>Video Image Decimation</h1>

</div>

<p class=MsoNormal align=right style='text-align:right'><span style='font-family:
"Arial Black"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-family:
"Arial Black"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-family:
"Arial Black"'>Stephen Estrop</span><span style='font-size:10.0pt;font-family:
"Arial Black"'><o:p></o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-family:
"Arial Black"'>Direct Show Video Services Group</span><span style='font-size:
10.0pt;font-family:"Arial Black"'><o:p></o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-family:
"Arial Black"'>&nbsp;</span><span style='font-size:10.0pt;font-family:"Arial Black"'><o:p></o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-family:
"Arial Black"'>&nbsp;</span><span style='font-size:10.0pt;font-family:"Arial Black"'><o:p></o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-family:
"Arial Black"'>&nbsp;</span><span style='font-size:10.0pt;font-family:"Arial Black"'><o:p></o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-family:
"Arial Black"'>Created: </span><!--[if supportFields]><span style='font-family:
"Arial Black"'><span style='mso-element:field-begin'></span><span
style="mso-spacerun: yes"> </span>CREATEDATE<span style="mso-spacerun: yes"> 
</span>\@ &quot;MMMM d, yyyy&quot; <span style='mso-element:field-separator'></span></span><![endif]--><span
style='font-family:"Arial Black"'>May 5, 1999</span><!--[if supportFields]><span
style='font-family:"Arial Black"'><span style='mso-element:field-end'></span></span><![endif]--><span
style='font-family:"Arial Black"'>&nbsp;</span><span style='font-size:10.0pt;
font-family:"Arial Black"'><o:p></o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-family:
"Arial Black"'>Last Updated: </span><!--[if supportFields]><span
style='font-family:"Arial Black"'><span style='mso-element:field-begin'></span><span
style="mso-spacerun: yes"> </span>SAVEDATE<span style="mso-spacerun: yes"> 
</span>\@ &quot;MMMM d, yyyy&quot; <span style='mso-element:field-separator'></span></span><![endif]--><span
style='font-family:"Arial Black"'>July 1, 1999</span><!--[if supportFields]><span
style='font-family:"Arial Black"'><span style='mso-element:field-end'></span></span><![endif]--><span
style='font-family:"Arial Black"'><o:p></o:p></span></p>

<b><span style='font-size:16.0pt;font-family:Arial;mso-fareast-font-family:
"Times New Roman";mso-font-kerning:16.0pt;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span></b>

<div style='border:none;border-top:solid windowtext .5pt;padding:1.0pt 0in 0in 0in'>

<h1>Introduction</h1>

</div>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>When an application or an end user shrinks the Video
Renderer window to a size less than the native size of the video being
displayed, the Video Renderer has to decimate the incoming video in order for
it to be displayed correctly in the video window. </p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>Depending upon the method used to connect the Video Decoder
to Video Renderer the incoming video stream may be decimated in one of three
different locations, these being:</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list .5in'>The
     Overlay (or Blt) Hardware on the VGA chip.</li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list .5in'>The
     scaler built into the Video Port (if the connection from the Decoder to
     the Renderer is via a Video Port).</li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list .5in'>The
     Decoder supplying the video to the Video Renderer.</li>
</ol>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>The Direct Show Video Renderers currently adopt the
following procedures ensuring that the video image is decimated to the correct
size.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h2>Overlay Mixer</h2>

<p class=MsoNormal>The Overlay Mixer first tries to decimate the video image
using the Overlay scaling hardware on the VGA chip.<span style="mso-spacerun:
yes">  </span>If the amount of decimation required is beyond the capabilities
of the Overlay scaler (as determined by the DDCAPS structure returned from
Direct Draw) and the decoder is connected via a Video Port, the Overlay Mixer
will try to use the scaler built into the Video Port.<span style="mso-spacerun:
yes">  </span>If the Video Port scaler cannot decimate the video image to the
correct size or if a Video Port connection is not being used, the Overlay Mixer
will crop the video image to the correct size.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h2>Video Renderer</h2>

<p class=MsoNormal>If the Video Renderer is using an Overlay surface it tries
to decimate the video image using the Overlay scaling hardware on the VGA
chip.<span style="mso-spacerun: yes">  </span>If the amount of decimation is
beyond capabilities of the Overlay scaler the Video Renderer immediately
switches to using an GDI DIB surface and performs the decimation using the
StretchBlt api.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>Neither the Overlay Mixer nor the Video Renderer tries to
use the Video Decoder to decimate the video image.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>It is proposed that the Direct Show Video Renderers
following a new video decimation strategy that allows applications greater
control over where the video decimation is performed and includes the ability
to decimate the incoming video at the Video Decoder.<span style="mso-spacerun:
yes">  </span>Two new <i>interfaces</i> are proposed in order to implement this
new strategy.<span style="mso-spacerun: yes">  </span>These new interfaces are:</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l0 level1 lfo6;tab-stops:list .5in'><b>IAMVideoDecimationProperties:
     </b>enables applications to control where the decimation is
     performed.<span style="mso-spacerun: yes">  </span>This interface is
     implemented by the Overlay Mixer filter.<b><o:p></o:p></b></li>
</ul>

<p class=MsoNormal><b><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l0 level1 lfo6;tab-stops:list .5in'><b>IDecimateVideoImage:</b>
     enables the Overlay Mixer filter to control the decimation capabilities of
     the video decoder it is connected to.<span style="mso-spacerun: yes"> 
     </span>Decoders that want to expose their decimation capabilities should implement
     this interface.</li>
</ul>

<div style='border:none;border-top:solid windowtext .5pt;padding:1.0pt 0in 0in 0in'>

<h1>IAMVideoDecimationProperties</h1>

</div>

<p class=MsoNormal style='tab-stops:list .5in'>Applications use this interface
to control the Overlay Mixers usage of where decimation occurs within the
Direct Show filter graph.<span style="mso-spacerun: yes">  </span>The
IAMVideoDecimationProperties interface is defined as follows:</p>

<p class=MsoNormal style='tab-stops:list .5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Code style='tab-stops:list .5in'>interface
IAMVideoDecimationProperties: IUnknown</p>

<p class=Code style='tab-stops:list .5in'>{</p>

<p class=Code style='tab-stops:list .5in'><span style="mso-spacerun: yes">   
</span>HRESULT QueryDecimationUsage(</p>

<p class=Code style='tab-stops:list .5in'><span style="mso-spacerun:
yes">        </span>[out] DECIMATION_USAGE* lpUsage);</p>

<p class=Code style='tab-stops:list .5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Code style='tab-stops:list .5in'><span style="mso-spacerun: yes">   
</span>HRESULT SetDecimationUsage(</p>

<p class=Code style='tab-stops:list .5in'><span style="mso-spacerun:
yes">        </span>[in] DECIMATION_USAGE Usage);</p>

<p class=Code style='tab-stops:list .5in'>}</p>

<div style='border:none;border-top:solid windowtext .5pt;padding:1.0pt 0in 0in 0in'>

<h1 style='tab-stops:list .5in'>DECIMATION_USAGE</h1>

</div>

<p style='mso-pagination:none;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>The
<b>DECIMATION_USAGE</b> enumeration describes the strategy that the how the Overlay
Mixer filter should use when shrinking (decimating) the video image to fit a
particular destination image size.</p>

<p class=Code style='mso-pagination:none;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='font-size:9.0pt;mso-bidi-font-size:12.0pt'>enum {<o:p></o:p></span></p>

<p class=Code style='mso-pagination:none;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='font-size:9.0pt;mso-bidi-font-size:12.0pt'><span style='mso-tab-count:
1'>         </span>DECIMATION_LEGACY,<o:p></o:p></span></p>

<p class=Code style='mso-pagination:none;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='font-size:9.0pt;mso-bidi-font-size:12.0pt'><span style='mso-tab-count:
1'>         </span>DECIMATION_USE_DECODER_ONLY,<o:p></o:p></span></p>

<p class=Code style='mso-pagination:none;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='font-size:9.0pt;mso-bidi-font-size:12.0pt'><span style='mso-tab-count:
1'>         </span>DECIMATION_USE_VIDEOPORT_ONLY,<o:p></o:p></span></p>

<p class=Code style='mso-pagination:none;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='font-size:9.0pt;mso-bidi-font-size:12.0pt'><span style='mso-tab-count:
1'>         </span>DECIMATION_USE_OVERLAY_ONLY,<o:p></o:p></span></p>

<p class=Code style='mso-pagination:none;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='font-size:9.0pt;mso-bidi-font-size:12.0pt'><span style='mso-tab-count:
1'>         </span>DECIMATION_DEFAULT<o:p></o:p></span></p>

<p class=Code style='mso-pagination:none;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>};</p>

<p class=Code style='mso-pagination:none;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><b><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<table border=0 cellspacing=0 cellpadding=0 style='border-collapse:collapse;
 mso-padding-alt:0in 5.4pt 0in 5.4pt'>
 <tr>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>DECIMATION_LEGACY</p>
  </td>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>This is the old way of decimating a video image as described in the
  introduction section above.<span style="mso-spacerun: yes">  </span>Briefly, when
  this mode is in use the Overlay Mixer will try to decimate using the overlay
  hardware scaler, then if that method fails, at the video port and finally if
  that method fails the overlay mixer filter will crop the video image to
  required size.</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>DECIMATION_USE_DECODER_ONLY</p>
  </td>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>Specifies that the Overlay Mixer will only try to decimate the video image
  using the scaler on the video decoder connected to the Overlay Mixer.<span
  style="mso-spacerun: yes">  </span>If the decoder does not support the
  IDecimateVideoImage function the Overlay Mixer will fail the SetDecimationUsage
  call and restore to the DECIMATION_DEFAULT mode.</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>DECIMATION_USE_VIDEOPORT_ONLY</p>
  </td>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>Specifies that the Overlay Mixer will only try to decimate the video image
  using the scaler built into the Video Port.<span style="mso-spacerun: yes"> 
  </span>If the Video Decoder is not connected the Overlay Mixer by a Video Port
  or if the Video Port does not support arbitrary scaling the Overlay Mixer
  will fail the SetDecimationUsage call and restore to the DECIMATION_DEFAULT
  mode.</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>DECIMATION_USE_OVERLAY_ONLY</p>
  </td>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>Specifies that the Overlay Mixer will only try to decimate the video image
  using the overlay scaler built into the VGA chip.<span style="mso-spacerun:
  yes">  </span>If the overlay scaler cannot perform the requested scaling operation
  the Overlay Mixer will crop the video image to the required size.</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>DECIMATION_DEFAULT</p>
  </td>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p>When this mode is specified the Overlay Mixer will try to decimate the
  video image using the scaler on in the Video Decoder first.<span
  style="mso-spacerun: yes">  </span>If that method fails the Overlay Mixer
  tries to use the Overlay scaler on the VGA chip.<span style="mso-spacerun:
  yes">  </span>If that method fails and the Overlay Mixer is connected via a
  Video Port it tries to decimate using the scaler built into the video
  port.<span style="mso-spacerun: yes">  </span>Finally if that method fails the
  Overlay Mixer filter will crop the video image to required size.</p>
  </td>
 </tr>
</table>

<div style='border:none;border-top:solid windowtext .5pt;padding:1.0pt 0in 0in 0in'>

<h1 style='tab-stops:list .5in'>IAMVideoDecimationProperties::QueryDecimationUsage</h1>

</div>

<p style='tab-stops:list .5in'>The <b>IAMVideoDecimationProperties::QueryDecimationUsage</b>
method fills in the current decimation usage setting of the Overlay Mixer or
Video Renderer filters.</p>

<pre><span style='color:blue'>HRESULT</span><code><b> <o:p></o:p></b></code></pre><pre><code><b>QueryDecimationUsage(<o:p></o:p></b></code></pre><pre><code><b><span style="mso-spacerun: yes">    </span>DECIMATION_USAGE* <i><span
style='color:blue'>lpUsage</span></i><o:p></o:p></b></code></pre><pre><code><b>);</b><o:p></o:p></code></pre><pre><code> </code></pre>

<h4 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Parameters</h4>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><i>lpUsage</i>
</p>

<p class=MsoNormal style='margin-left:.5in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Address
of a <b><span style='font-family:"Courier New"'>DECIMATION_USAGE</span></b>
enumeration will be filled with the current decimation usage of the Video
Renderer and Overlay Mixer filters.</p>

<h4 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Return
Values</h4>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>If
the method succeeds, the return value is S_OK.<b><o:p></o:p></b></p>

<div style='border:none;border-top:solid windowtext .5pt;padding:1.0pt 0in 0in 0in'>

<h1 style='tab-stops:list .5in'>IAMVideoDecimationProperties::SetDecimationUsage</h1>

</div>

<p style='tab-stops:list .5in'>The <b>IAMVideoDecimationProperties::</b>SetDecimationUsage
method sets the current decimation usage setting of the Overlay Mixer or Video
Renderer filters.</p>

<pre><span style='color:blue'>HRESULT</span><code><b> <o:p></o:p></b></code></pre><pre><code><b>SetDecimationUsage(<o:p></o:p></b></code></pre><pre><code><b><span style="mso-spacerun: yes">    </span>DECIMATION_USAGE <i><span
style='color:blue'>Usage</span></i><o:p></o:p></b></code></pre><pre><code><b>);</b><o:p></o:p></code></pre><pre><code> </code></pre>

<h4 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Parameters</h4>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><i>Usage</i>
</p>

<p class=MsoNormal style='margin-left:.5in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>A
<b><span style='font-family:"Courier New"'>DECIMATION_USAGE</span></b> enumeration
filled with the default decimation usage of the Video Renderer and Overlay
Mixer filters.</p>

<h4 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Return
Values</h4>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>If
the method succeeds, the return value is S_OK</p>

<div style='border:none;border-top:solid windowtext .5pt;padding:1.0pt 0in 0in 0in'>

<h1 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>IDecimateVideoImage
interface</h1>

</div>

<p class=MsoNormal style='tab-stops:list .5in'>Decoder filters that are capable
of decimating their output video image should support this interface.<span
style="mso-spacerun: yes">  </span>This interface is not intended for use by
applications.<span style="mso-spacerun: yes">  </span>The IDecimateVideoImage interface
is defined as follows:</p>

<p class=MsoNormal style='tab-stops:list .5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Code style='tab-stops:list .5in'>interface IDecimateVideoImage :
IUnknown</p>

<p class=Code style='tab-stops:list .5in'>{</p>

<p class=Code style='tab-stops:list .5in'><span style="mso-spacerun: yes">   
</span>HRESULT SetDecimationImageSize(</p>

<p class=Code style='tab-stops:list .5in'><span style="mso-spacerun:
yes">        </span>[in] long lWidth,</p>

<p class=Code style='tab-stops:list .5in'><span style="mso-spacerun:
yes">        </span>[in] long lHeight);</p>

<p class=Code style='tab-stops:list .5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Code style='tab-stops:list .5in'><span style="mso-spacerun: yes">   
</span>HRESULT ResetDecimationImageSize();</p>

<p class=Code style='tab-stops:list .5in'>}</p>

<div style='border:none;border-top:solid windowtext .5pt;padding:1.0pt 0in 0in 0in'>

<h1 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>IDecimateVideoImage::SetDecimationImageSize</h1>

</div>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>The
<b>IDecimateVideoImage:: SetDecimationImageSize</b> informs the decoder that it
should decimate its output image to the specified width and height. </p>

<pre><span style='color:blue'>HRESULT</span><code><b> <o:p></o:p></b></code></pre><pre><code><b>SetDecimatoinImageSize(<o:p></o:p></b></code></pre><pre><code><b><span style="mso-spacerun: yes">    </span>LONG <i><span
style='color:blue'>lWidth,<o:p></o:p></span></i></b></code></pre><pre><code><b><span style="mso-spacerun: yes">    </span>LONG <i><span
style='color:blue'>lHeight,</span></i><o:p></o:p></b></code></pre><pre><code><b>);</b><o:p></o:p></code></pre><pre><code> </code></pre>

<h4 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Parameters</h4>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><i>lWidth</i>
</p>

<p class=MsoNormal style='margin-left:.5in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>The
desired video image width. </p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><i>lHeight</i>
</p>

<p class=MsoNormal style='margin-left:.5in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>The
desired video image height. </p>

<p class=MsoNormal style='margin-left:.5in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h4 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Return
Values</h4>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>If
the decoder can decimate to this size it should return S_OK.<span
style="mso-spacerun: yes">  </span>If the decoder can't decimate to this size
but it is happy to continue decimating to the current size it should return
S_FALSE.<span style="mso-spacerun: yes">  </span>If the decoder can't perform
any decimation or wants to stop performing the decimation that it is currently
doing it should return E_FAIL.</p>

<div style='border:none;border-top:solid windowtext .5pt;padding:1.0pt 0in 0in 0in'>

<h1 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>IDecimateVideoImage::ResetDecimationImageSize</h1>

</div>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>The
<b>IDecimateVideoImage::ResetDecimationImageSize</b><span style="mso-spacerun:
yes">  </span>informs the decoder that it should stop decimating its output
image and resume normal output.</p>

<pre><span style='color:blue'>HRESULT</span><code><b> <o:p></o:p></b></code></pre><pre><code><b>ResetDecimatoinImageSize();</b><o:p></o:p></code></pre>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

</div>

</body>

</html>
