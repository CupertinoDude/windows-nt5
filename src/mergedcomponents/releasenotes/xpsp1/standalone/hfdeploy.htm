<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">


<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Microsoft Windows XP Hotfix Installation and Deployment Guide</TITLE>

<STYLE type="text/css">H1 {
	CLEAR: both; FONT-SIZE: 140%; MARGIN-BOTTOM: 0.5em
}
H2 {
	CLEAR: both; MARGIN-TOP: 1.5em; FONT-SIZE: 130%; MARGIN-BOTTOM: 0.5em
}
H3 {
	CLEAR: both; MARGIN-TOP: 1.2em; FONT-SIZE: 120%; MARGIN-BOTTOM: 0.5em
}
H4 {
	CLEAR: both; MARGIN-TOP: 1.2em; FONT-SIZE: 110%; MARGIN-BOTTOM: 0.5em; MARGIN-LEFT: 1em
}
H5 {
	CLEAR: both; MARGIN-TOP: 1.2em; FONT-SIZE: 100%; MARGIN-BOTTOM: 0.5em; MARGIN-LEFT: 2em
}
H6 {
	CLEAR: both; MARGIN-TOP: 0.2em; FONT-SIZE: 70%; MARGIN-BOTTOM: 0.5em
}
P {
	MARGIN-TOP: 1.5em; MARGIN-BOTTOM: 0.6em
}
P.indent {
	MARGIN-LEFT: 3em
}
P.note {
	CLEAR: both; MARGIN-TOP: 1em; FONT-WEIGHT: bold; MARGIN-BOTTOM: -0.25em
}
P.tip {
	CLEAR: both; MARGIN-TOP: 1em; FONT-WEIGHT: bold; MARGIN-BOTTOM: -0.25em
}
P.important {
	CLEAR: both; MARGIN-TOP: 1em; FONT-WEIGHT: bold; MARGIN-BOTTOM: -0.25em
}
P.caution {
	CLEAR: both; MARGIN-TOP: 1em; FONT-WEIGHT: bold; MARGIN-BOTTOM: -0.25em
}
P.warning {
	CLEAR: both; MARGIN-TOP: 1em; FONT-WEIGHT: bold; MARGIN-BOTTOM: -0.25em
}
P.proclabel {
	CLEAR: both; FONT-WEIGHT: bold; FONT-SIZE: 100%
}
OL {
	MARGIN-TOP: 0.5em; PADDING-LEFT: .5em; MARGIN-BOTTOM: 0px; MARGIN-LEFT: 2.1em
}
OL.indent {
	MARGIN-TOP: 0.5em; PADDING-LEFT: 3em; MARGIN-BOTTOM: 0px; MARGIN-LEFT: 2.1em
}
UL {
	MARGIN-TOP: 0.6em; PADDING-LEFT: 0em; MARGIN-BOTTOM: 0px; MARGIN-LEFT: 1.5em; LIST-STYLE-TYPE: disc
}
UL.indent {
	MARGIN-TOP: 0.5em; PADDING-LEFT: 3em; MARGIN-BOTTOM: 0px; MARGIN-LEFT: 2.1em
}
LI {
	CLEAR: both; MARGIN-BOTTOM: 0.7em
}
DD {
	MARGIN-BOTTOM: 0px; MARGIN-LEFT: 1.5em
}
CODE {
	FONT-SIZE: 105%; BACKGROUND: #ffffff; COLOR: #000000; FONT-FAMILY: Courier New, Courier, Monospace
}
BODY {
	FONT-SIZE: 80%; BACKGROUND: #ffffff; COLOR: #000000; FONT-FAMILY: Verdana, Arial, Helvetica, Sans Serif
}
TABLE {
	FONT-SIZE: 100%; BACKGROUND: #ffffff; COLOR: #000000; FONT-FAMILY: Verdana, Arial, Helvetica, Sans Serif
}
A:link {
	COLOR: #0066cc; TEXT-DECORATION: none
}
A:visited {
	COLOR: #0066cc; TEXT-DECORATION: none
}
A:hover {
	COLOR: #ff0000; TEXT-DECORATION: underline
}
A:active {
	COLOR: #ff0000; TEXT-DECORATION: underline
}
HR {
	HEIGHT: 1px
}
DIV P {
	MARGIN-LEFT: 2em
}
a.finePrint {font-size: 85%;}
</STYLE>

</HEAD>
<BODY>
<A NAME="top"><img src="../../winXP_logo_horiz_sm.gif" width="314" height="68" border="0" alt="Microsoft Windows XP"></A>
<H1>Hotfix Installation and Deployment Guide</H1>
	
<H4><A HREF="#about_this_guide_srce">About This Guide</A></H4>

<H5><A HREF="#organization_of_this_guide_uaaj">Organization of This Guide</A></H5>

<H5><A HREF="#conventions_used_in_this_guide_cufv">Terminology Used in This Guide</A></H5>

<H4><A HREF="#what_is_a_hotfix__mbbi">What Is a Hotfix?</A></H4>

<H4><A HREF="#the_update_installation_semb">The Update Installation</A></H4>

<H5><A HREF="#update_installation_methods_faaf">Update Installation Methods</A></H5>

<H5><A HREF="#scenario_1_computers_running_windows2000_jrzu">Installing Hotfixes on Computers Running Windows&nbsp;XP</A></H5>

<H4><A HREF="#the_combination_installation_gxsi">The Combination Installation</A></H4>

<H5><A HREF="#installing_windows_2000_with_hotfixes_ykot">Installing Windows&nbsp;XP with the Service Pack and Hotfixes </A></H5>

<H4><A HREF="#removing_a_windows_hotfix_adbb">Removing Windows&nbsp;XP Hotfixes</A></H4>

<H4><A HREF="#copyright_domr">Copyright</A></H4>

<BR><BR>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="97%">
  <TBODY>
  <TR vAlign=bottom>
    <TD>
      <H1><A NAME="about_this_guide_srce"></A> About This Guide</H1>
	</TD>
    <TD align=right><A class="finePrint" 
      href="#top">Back 
      to Top</A></TD></TR></TBODY></TABLE>
<HR>

<P>This guide provides instructions for administrators installing hotfixes for Microsoft&reg; Windows&reg;&nbsp;XP Home&nbsp;Edition, Windows&reg;&nbsp;XP Professional, and Windows&reg;&nbsp;XP 64-Bit&nbsp;Edition. This guide includes technical details, procedures, and recommendations for successfully installing Windows&nbsp;XP hotfixes on multiple computers in a small business or corporate environment. Note that you can install hotfixes either alone or in combination with Windows&nbsp;XP (with or without a service pack).</P>

<P>This guide assumes a working knowledge of Windows&nbsp;XP and hotfix installations. Although some basic operating system information is included in the document, this is not a replacement for either the Windows&nbsp;XP documentation or formal training. Rather, it is intended to complement these sources of information.</P>

<H2><A NAME="organization_of_this_guide_uaaj"></A> Organization of This Guide</H2>

<P>This guide includes the following main sections:

<UL>
	<LI><B>What Is a Hotfix?</B>
<P>You can read this section to become familiar with hotfixes. This section also provides information about additional resource material that can help you plan your hotfix deployment.</P>
</li>
	<LI><B>The Update Installation</B>
<P>This section explains how to perform an update installation of Windows hotfixes for computers that are already running Windows&nbsp;XP.</P>
</li>
	<LI><B>The Combination Installation</B>
<P>This section explains how to perform an unattended installation of Windows hotfixes in combination with Windows&nbsp;XP.</P>
</li>
	<LI><B>Removing Windows&nbsp;XP Hotfixes</B>
<P>This section explains how to remove a Windows hotfix and discusses the limitations of this process.</p>
</li></UL>

<H2><A NAME="conventions_used_in_this_guide_cufv"></A> Terminology Used in This Guide</H2>

<P>Before you get started, it's important to understand a few specialized terms that are used in this guide. These terms, which are specific to Windows&nbsp;XP or hotfix installations (or both), are defined in the following table.</P>

<TABLE width="100%">
<tr><th align="left">Term</th><th align="left">Definition</th></tr><tr><td><I>systemroot</I></td><td>The &quot;root&quot; directory of the Windows installation on the computer's hard disk. For example, on most computers, <I>systemroot</I> is C:\WINDOWS. If you upgraded your computer to Windows&nbsp;XP from another version of Windows, <I>systemroot</I> might be C:\WINNT.</td></tr><tr><td><I>systemdrive</I></td><td>The drive where the operating system is installed. For example, on most computers, the <I>systemdrive</I> is C:\.</td></tr><tr><td><I>integrated</I></td><td>Installed together as a single installation (for example, Windows&nbsp;XP and Service Pack&nbsp;1).</td></tr></TABLE><BR>

<BR><BR>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="97%">
  <TBODY>
  <TR vAlign=bottom>
    <TD>
      <H1><A NAME="what_is_a_hotfix__mbbi"></A> What Is a Hotfix?</H1>
	</TD>
    <TD align=right><A class="finePrint" 
      href="#top">Back 
      to Top</A></TD></TR></TBODY></TABLE>
<HR>

<P>A hotfix is a file or collection of files that you can apply to Windows&nbsp;XP to correct a specific problem. A hotfix is provided as a program (.exe) file. When you install a hotfix, backup files are created automatically so that you can remove the hotfix later if you want. The installation process also copies files to specific folders and updates registry settings.</P>

<P>Windows&nbsp;XP hotfix programs are named according to the following convention: </P>

<UL>
<LI>Q<I>######</I>_<I>WXP</I>_<I>SP2</I>_X86_<I>LLL</I>.exe for 32-bit versions of Windows&nbsp;XP</li>

<LI>Q<I>######</I>_<I>WXP</I>_<I>SP2</I>_IA64_<I>LLL</I>.exe for Windows&nbsp;XP 64-Bit&nbsp;Edition </li>

<P>where:

<li>Q###### = the Microsoft Knowledge Base article number (for example, Q123456)</li>
<LI><I>LLL</I> = the language</li></UL>

<P class="note">Note</P>
<P class="indent">Examples in this document that can apply to both of the 32-bit versions and the 64-bit&nbsp;Edition follow the 32-bit versions format.</P>

<P>Hotfixes are packaged in a self-installing format. There are two main types of hotfix installations:

<UL>
	<LI><B>The update installation</B>
<P>Use this type of installation to install Windows hotfixes on computers that are already running Windows&nbsp;XP.</P>
</li>
	<LI><B>The combination installation</B>
<P>Use this type of installation to perform an unattended installation of Windows hotfixes in combination with Windows&nbsp;XP or the service pack (or both).</P>
</li></UL>
<P class="important">Important</P>
<P class="indent">Hotfixes are applied only to software that is already installed when you apply the hotfixes. For example, if you remove a component and later reinstall it, you must reinstall any hotfixes that apply for that component. In addition, if you add further components to your computer that require this hotfix, you must install the hotfix again. Fixes included in a service pack do not work the same way. After you install a service pack, fixes are applied to all components you add or reinstall without you having to reinstall the service pack.</P>

<BR><BR>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="97%">
  <TBODY>
  <TR vAlign=bottom>
    <TD>
      <H1><A NAME="the_update_installation_semb"></A> The Update Installation</H1>
	</TD>
    <TD align=right><A class="finePrint" 
      href="#top">Back 
      to Top</A></TD></TR></TBODY></TABLE>
<HR>

<P>During the update installation, Windows hotfixes are applied to a computer that is already running Windows&nbsp;XP. When you run the hotfix program, it automatically installs the updated system files and makes the necessary registry changes. After the computer is restarted (required only for some system files that are used during the installation), the installation is complete and Windows&nbsp;XP runs with an updated file set.</P>

<P>You can install the hotfixes by running the Update.exe program, which extracts the hotfix files and runs the Update.exe installation program. Update.exe then checks the service pack version you are currently using. If the service pack version was released <I>before</I> the hotfixes and the language is the same, the Update.exe program installs the hotfixes automatically. If your service pack version was released <I>after</I> the hotfixes, the installation is not completed and an error message appears, stating that the version is incorrect.</P>
<P class="note">Note</P>
<P class="indent">If your service pack version was released <I>after</I> the hotfixes and you were completing an unattended installation (using either the <B>/U</B> or <B>/Q</B> option), the installation quits and no message displays. </P>

<P>If the language of the hotfixes does not match the language you have set up for Windows&nbsp;XP, Setup will be interrupted. If there are no version conflicts, Setup continues the installation. The Update.exe program registers the hotfixes under the following registry keys:</P>

<P>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft<BR>
\Windows NT\CurrentVersion\Hotfix\Q######</p>

<P>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Updates\Windows&nbsp;XP\SP2\Q######</p>

<P>During the installation, information for removing the hotfixes is stored in a hidden folder named <I>systemroot</I>\$NtUninstallQ<I>######</I>$.<B> </B>For information about removing hotfixes, see &quot;<A HREF="#removing_a_windows_hotfix_adbb">Removing Windows Hotfixes</A>&quot; later in this document.</P>

<P>The following sections describe how to install the Windows hotfixes from a shared network distribution folder.</P>

<H2><A NAME="update_installation_methods_faaf"></A> Update Installation Methods</H2>

<P>There are several methods for performing an update installation, including running the Update.exe program manually with a combination of installation options, using Systems Management Server (SMS), and using the Windows Installer. You can distribute hotfixes either by using a shared network distribution folder or by downloading the hotfixes from the Web. Because this guide is intended primarily for corporate users, the update installation procedures provided in this document focus on the shared network distribution method, which is the most common means of hotfix distribution for this audience.</P>

<P>The instructions in this section explain how to install hotfixes on computers that are already running Windows&nbsp;XP.</P>

<H3><A NAME="using_qchain_task"></A> Using Qchain.exe</H3>

<P>Windows&nbsp;XP SP1 and all post-SP1 hotfixes have Qchain.exe functionality built in. You can install SP1, and then install any number of post-SP1 hotfixes without having to restart the computer in between. </P>

<P>For more information about how the Qchain.exe tool works, see article <A HREF="http://go.microsoft.com/fwlink/?LinkId=9068" TARGET="_blank"><U>Q296861</U></A>, &quot;Use QChain.exe to Install Multiple Hotfixes with Only One Reboot,&quot; in the Microsoft Knowledge Base.</P>

<H3><A NAME="command_line_switches_for_the_hotfix_exe_program_imgo"></A> Command-Line Options for the Update.exe Program</H3>

<P>The following table identifies the command-line options that the Update.exe program supports.</P>

<TABLE width="100%">
<tr><th align="left">Command-line option</th><th  align="left">Description</th></tr><tr><td><B>/F</B></td><td>Forces other applications to close at shutdown.</td></tr><tr><td><B>/N</B></td><td>Does not back up files for removing hotfixes.</td></tr><tr><td><B>/Z</B></td><td>Does not restart the computer after the installation is completed.</td></tr><tr><td><B>/Q</B></td><td>Uses quiet mode; no user interaction is required.</td></tr><tr><td><B>/U</B></td><td>Uses unattended Setup mode.</td></tr><tr><td><B>/L</B></td><td>Lists installed hotfixes.</td></tr></TABLE><BR>

<H2><A NAME="scenario_1_computers_running_windows2000_jrzu"></A> Installing Hotfixes on Computers Running Windows&nbsp;XP</H2>

<P>To install a Windows&nbsp;XP hotfix on a single computer, run the hotfix program on the computer you want to update: Q<I>######_XXX_YYY_ZZZ_LLL</I>.exe</P>

<P>You can create a distribution folder on the network for the hotfix if you want to install it on more than one computer. The following procedure describes how to install one or more Windows&nbsp;XP hotfixes using this method.</P>
<P class="note">Note</P>
<P class="indent">For the following procedure, &quot;E:\&quot; represents the drive of the network or computer where your distribution folder is located. </P>

<P class="proclabel">To install a Windows&nbsp;XP hotfix by running the Update.exe program</p>
<OL>
	<LI>Connect to the network or computer on which you want to create the distribution folder.</li>
	<LI>In the shared network distribution folder, create a distribution folder for the hotfix files.
<P>For example, to create a distribution folder named Hotfix, type the following:

<P><B>mkdir E:\Hotfix</B></P>
</li>
	<LI>Copy the Windows&nbsp;XP Update.exe program to the distribution folder that you created in step&nbsp;2.
<P>For example, to copy the Windows&nbsp;XP Update.exe program to the distribution folder named Hotfix, type the following:</P>

<P><B>xcopy C:\Q<i>######_XXX_YYY_ZZZ_LLL</I>.exe E:\Hotfix&nbsp;</B></P>
</li>
	<LI>To install the hotfix from the shared network distribution folder, run the Q<I>######_XXX_YYY_ZZZ_LLL</I>.exe program.
<P>For example, to install the hotfix from the distribution folder named Hotfix, type the following:

<P><B>E:\Hotfix\Q<I>######_XXX_YYY_ZZZ_LLL</I>.exe</B>

<P>The Q<I>######_XXX_YYY_ZZZ_LLL</I>.exe file supports the same command-line options as the Update.exe program. You can use command-line options as described in the table preceding this procedure.</P>
</li>
	<LI>To ensure that your hotfixes take effect, restart your computer after you finish installing all of the hotfixes.</li></OL>

<H3><A NAME="installing_sseveral_hhotfixes_ttogether_tehf"></A> Installing Several Hotfixes Together</H3>

<P>You can group multiple hotfixes together in a batch file and install them as a unit; this way, you do not need to restart your computer after each hotfix is installed. The hotfix installer provides options you can use when performing this type of installation. </P>

<P>The following code sample is a batch file that installs hotfixes and makes sure that the correct files get replaced after the computer is restarted.</P>

<PRE><CODE>@echo off
setlocal
set PATHTOFIXES=E:\hotfix

%PATHTOFIXES%\Q123456_Wxp_sp2_x86.exe /Z /Q
%PATHTOFIXES%\Q123321_Wxp_sp2_x86.exe /Z /Q
%PATHTOFIXES%\Q123789_Wxp_sp2_x86.exe /Z /Q</CODE></PRE>
<P class="important">Important</P>
<P class="indent">To make sure that the hotfixes you installed take effect, restart the computer if the batch file does not automatically restart it for you. </P>

<BR><BR>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="97%">
  <TBODY>
  <TR vAlign=bottom>
    <TD>
      <H1><A NAME="the_combination_installation_gxsi"></A> The Combination Installation</H1>
	</TD>
    <TD align=right><A class="finePrint" 
      href="#top">Back 
      to Top</A></TD></TR></TBODY></TABLE>
<HR>

<P>The combination installation uses both the update and integrated installation processes to install the service pack with one or more of the following:

<UL>
	<LI>Windows&nbsp;XP</li>
	<LI>Windows&nbsp;XP hotfixes </li>
	<LI>Additional Microsoft and third-party software included on the Service Pack&nbsp;1 CD</li></UL>

<P>This section provides instructions for installing Windows&nbsp;XP with hotfixes in unattended Setup mode.</P>

<P>You can perform a combination installation by including the components you want to install with the hotfixes as entries in the Svcpack.inf file. You can also choose to install the service pack at the same time.</P>

<H2><A NAME="installing_windows_2000_with_hotfixes_ykot"></A> Installing Windows&nbsp;XP with the Service Pack and Hotfixes</H2>

<P>This section explains how to perform a combination installation of Windows&nbsp;XP integrated with the service pack and post-service pack hotfixes in a shared distribution folder on a network. You do not need to perform separate installations of Windows&nbsp;XP, the service pack, or the Windows&nbsp;XP hotfixes. Note that if you want to install Windows&nbsp;XP with hotfixes, you must use this method.</P>
<P class="important">Important</P>
<P class="indent">This process installs the Windows&nbsp;XP hotfixes during Windows&nbsp;XP Setup.</P>

<H3><A NAME="preparing_for_the_installation_mczq"></A> Preparing for the Combination Installation</H3>

<P>Before you run Windows&nbsp;XP Setup to deploy the installation of Windows&nbsp;XP and the Windows&nbsp;XP hotfixes across a network, you must copy the Windows&nbsp;XP and Windows&nbsp;XP hotfix installation files to a shared distribution folder and complete additional steps, as described in the following procedure.</P>

<P>If you are an original equipment manufacturer (OEM) and you plan to install additional OEM files (for example, device driver, application, or component files) on the destination computers, create a \$1 subfolder within the \$OEM$ subfolder. The \$1 subfolder maps to <I>systemdrive</I>, the destination drive for the Windows&nbsp;XP installation.</P>

<P>Follow the procedure for either of the 32-bit versions of Windows&nbsp;XP or for the Windows&nbsp;XP 64-Bit Edition.</P>
<P class="note">Note</P>
<P class="indent">In the following procedure, &quot;E:\&quot; represents the drive name of the network or computer where your distribution folder is located.</P>

<P class="proclabel">To create and set up the required folders and files for 32-bit versions of Windows&nbsp;XP</p>
<OL>
	<LI>Connect to the network or computer on which you want to create the distribution folder.</li>
	<LI>Create an i386 distribution folder by typing the following (using the appropriate drive name):
<P><B>mkdir E:\i386</B></P>
</li>
	<LI>Use the command <B>xcopy</B> to copy the files and subfolders from the Windows&nbsp;XP with SP1 integrated installation CD to the E:\i386 folder. For example, if D: is your CD-ROM drive, type the following:
<P><B>xcopy /E /I /V D:\i386 E:\i386</B></P>
</li>
	<LI>Open E:\i386\dosnet.inf to add the [OptionalSrcDirs] section with the entry svcpack as follows:
<PRE><B><CODE>[OptionalSrcDirs]
svcpack</CODE></B></PRE>
</li>
	<LI>Create an E:\i386\svcpack folder. For example, to create a \svcpack subfolder within the i386 folder, type the following:
<P><B>mkdir E:\i386\svcpack</B></P>
</li>
	<LI>Copy the hotfix program file (Q<I>######_XXX_YYY_ZZZ_LLL</I>.exe) to the E:\i386\svcpack folder by using the 8.3 naming format (Q######.exe), where ###### represents the actual hotfix number. 
<P>If you are deploying multiple hotfixes, rename all of the hotfix program files according to this naming format.</P>
</li>
	<LI>Expand the hotfix to a unique temporary location. For example, to expand the files to a folder called samplefolder, type the following:
<P><B>E:\i386\svcpack\Q######.exe /X:E:\&lt;<I>samplefolder</I></B>&gt;</P>
</li>
	<LI>Copy the catalog files (.cat) and hotfix binary files (such as .exe, .dll, .sys) as follows:
<OL>
	<LI type=a>Copy Q######.cat to the E:\i386\svcpack folder. If you will be deploying multiple hotfixes together, make sure that you copy all catalog files from each of the hotfixes to be deployed. Each hotfix has a unique catalog file that you must copy in the format Q######.cat.</li>
	<LI type=a>If any binary files exist in multiple packages, keep only the file with the highest version number.</li>
	<LI type=a>Delete any binary files to be replaced in the i386 folder (usually you can identify these files in the shared folder by the underscore (_) at the end of each file name).</li>
	<LI type=a>Copy the hotfix binary files and any subfolders for the hotfix to the i386 folder. 
<P>For example, i386\uniproc\* files in the hotfix need to be copied to the i386\uniproc folder of the shared installation folder. There is no need to copy Update.exe, Update.inf, SPmsg.dll, SPcustom.dll, SPuninst.exe, Update.ver, or symbols files.
</li></OL>
</li>
	<LI>Delete the E:\i386\Svcpack.in_ file.</li>
	<LI>Create a new Svcpack.inf file at E:\i386\Svcpack.inf, using the following content:
<PRE><CODE>[Version]
Signature=</CODE>&quot;<CODE>$Windows&nbsp;NT$</CODE>&quot;<CODE>MajorVersion=5
MinorVersion=1
BuildNumber=2600
[SetupData]
CatalogSubDir=</CODE>&quot;<CODE>\i386\svcpack</CODE>&quot;<CODE>[ProductCatalogsToInstall]
Q######.cat
[SetupHotfixesToRun]
Q<I>######</I>.exe /<I>options</I> </CODE></PRE>

<P>The recommended options for hotfixes are <B>/Q /N /Z</B>.</p>
<P class="important">Important</P>
<P class="indent">If you will be deploying multiple hotfixes together, add an entry for each hotfix under both [ProductCatalogsToInstall] and [SetupHotfixesToRun] (as shown following this paragraph). The following lines are a sample of these sections for an installation in which multiple hotfixes are installed. If you are installing a service pack, you do not need to include details about the service pack because they are included in the installation by another process.

<PRE><CODE>[ProductCatalogsToInstall]
Q<I>123456</I>.cat
Q<I>123478</I>.cat
Q<I>123490</I>.cat
[SetupHotfixesToRun]
Q<I>123456</I>.exe /<I>options</I> 
Q<I>123478</I>.exe /<I>options</I> 
Q<I>123490</I>.exe /<I>options</I> </CODE></PRE>

<P>The recommended options for hotfixes are <B>/Q /N /Z</B>.</p>
</li></OL>

<P class="proclabel">To create and set up the required folders and files for the Windows&nbsp;XP 64-Bit&nbsp;Edition</p>
<OL>
	<LI>Connect to the network or computer on which you want to create the distribution folder. </li>
	<LI>Create an ia64 distribution folder by typing the following (using the appropriate drive name): 
<P><B>mkdir E:\ia64 </B>
</li>
	<LI>Use the command<B> xcopy</B> to copy the files and subfolders from the Windows&nbsp;XP with SP1 integrated installation CD to the E:\ia64 folder. For example, if D: is your CD-ROM drive, type the following:
<P><B>xcopy /E /I /V D:\ia64 E:\ia64 </B>
</li>
	<LI>Open E:\i386\dosnet.inf to add the [OptionalSrcDirs] section with the entry svcpack as follows:
<PRE><CODE>[OptionalSrcDirs]
svcpack </CODE></PRE>
</li>
	<LI>Create an E:\ia64\svcpack folder. For example, to create a \svcpack subfolder within the ia64 folder, type the following:
<P><B>mkdir E:\ia64\svcpack </B>
</li>
	<LI>Copy the hotfix program file (Q<I>######_XXXX_YYY_ZZZZ_LLL</I>.exe) to the E:\ia64\svcpack folder by using the 8.3 naming format (Q######.exe), where ###### represents the actual hotfix number. 
<P>If you are deploying multiple hotfixes, rename all of the hotfix package files according to this naming format. 
</li>
	<LI>Expand the hotfix to a unique temporary location. For example, to expand the files to a folder called samplefolder, type the following:
<P><B>E:\ia64\svcpack\Q###### /X E:\&lt;<I>samplefolder</I>&gt; </B>
</li>
	<LI>Copy the catalog files (.cat) and hotfix binary files (such as .exe, .dll, and .sys) as follows: 
<OL>
	<LI type=a>Copy Q######.cat to the E:\ia64\svcpack folder. If you will be deploying multiple hotfixes together, make sure that you copy all catalog files from each of the hotfixes to be deployed. Each hotfix has a unique catalog file that you must copy in the format Q######.cat.</li>
	<LI type=a>If any binary files exist in multiple packages, keep only the file with the highest version number. </li>
	<LI type=a>Delete any binary files to be replaced in the ia64 folder (usually you can identify these files in the shared folder by the underscore (_) at the end of each file name).</li>
	<LI type=a>Copy the hotfix binary files and any subfolders for the hotfix to the ia64 folder. 
<P>For example, ia64\uniproc\* files in the hotfix need to be copied to the ia64\uniproc folder of the shared installation folder. There is no need to copy Update.exe, Update.inf, SPmsg.dll, SPcustom.dll, SPuninst.exe, Update.ver, or symbols files.
</li></OL>
</li>
	<LI>Delete the E:\ia64\Svcpack.in_ file. </li>
	<LI>Create a new Svcpack.inf file at E:\ia64\Svcpack.inf, using the following content: 
<PRE><CODE>[Version] 
Signature=&quot;$Windows&nbsp;NT$&quot;
MajorVersion=5
MinorVersion=1
BuildNumber=2600
[SetupData]
CatalogSubDir=&quot;\ia64\svcpack&quot;
[ProductCatalogsToInstall]
Q######.cat
[SetupHotfixesToRun]
Q<I>######</I>.exe /<I>options</I></CODE></PRE></li></OL>

<P class="indent">The recommended options for hotfixes are <B>/Q /N /Z</B>.</P>

<P class="important">Important</P>
<P class="indent">If you will be deploying multiple hotfixes together, add an entry for each hotfix under both [ProductCatalogsToInstall] and [SetupHotfixesToRun] (as shown following this paragraph). The following lines are a sample of these sections for an installation in which multiple hotfixes are installed. If you are installing a service pack, you do not need to include details about the service pack because they are included in the installation by another process.

<P class="indent"><PRE><CODE>[ProductCatalogsToInstall]
<P class="indent">Q123456.cat
<P class="indent">Q123478.cat
<P class="indent">Q123490.cat
<P class="indent">[SetupHotfixesToRun]
<P class="indent">Q<I>123456</I>.exe /<I>options</I>
<P class="indent">Q<I>123478</I>.exe /<I>options</I>
<P class="indent">Q<I>123490</I>.exe /<I>options</I></CODE></PRE></P>

<P class="indent">The recommended options for hotfixes are<B> /Q /N /Z</B>.</P>

<H3><A NAME="deploying_the_combination_installation_ezxr"></A> Deploying the Combination Installation</H3>

<P>You can deploy the installation of Windows&nbsp;XP and the Windows&nbsp;XP hotfixes to multiple computers from a shared distribution folder on a network. During the standard installation process, Windows&nbsp;XP Setup installs the operating system and applies the hotfixes.</P>

<P>For further information about the following procedure, see the <I>Microsoft Windows Corporate Deployment Tools User's Guide</I> (deploy.chm) included in Deploy.cab in the \Support\Tools folder on your SP1 CD.</P>

<P class="proclabel">To deploy the installation</p>
<OL>
	<LI>Verify that the installation and executable files for Windows&nbsp;XP and the Windows&nbsp;XP hotfixes exist in your distribution folder.</li>
	<LI>Customize Windows&nbsp;XP Setup, as necessary. For more information about customizing Windows&nbsp;XP Setup, see the Winnt32.exe command syntax topic in the <I>Microsoft Windows&nbsp;XP Professional Resource Kit Documentation</I>, which you will find on the <A HREF="http://go.microsoft.com/fwlink/?LinkId=8420" TARGET="_blank"><U>Microsoft Windows Resource Kits Web site</U></A>. </li>
	<LI>Run Windows&nbsp;XP Setup to deploy the installation of Windows&nbsp;XP and the Windows&nbsp;XP hotfixes to multiple computers from the shared distribution folder.</li></OL>

<BR><BR>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="97%">
  <TBODY>
  <TR vAlign=bottom>
    <TD>
      <H1><A NAME="removing_a_windows_hotfix_adbb"></A> Removing Windows&nbsp;XP Hotfixes</H1>
	</TD>
    <TD align=right><A class="finePrint" 
      href="#top">Back 
      to Top</A></TD></TR></TBODY></TABLE>
<HR>

<P>You can remove a Windows&nbsp;XP hotfix by using <B>Add or Remove Programs</B> in <B>Control Panel</B>.</P>

<P>If you install multiple hotfixes that replace the same files and you want to return your computer to its original state, you must remove the most recently installed hotfix first. For example, assume that HotfixA and HotfixB replace the same file and that you installed HotfixA before you installed HotfixB. If you want to return your computer to its state prior to the installation of HotfixA, you must remove HotfixB before you remove HotfixA. </P>

<P class="proclabel">To remove a Windows&nbsp;XP hotfix</p>
<OL>
	<LI>Click <B>Start</B>, point to <B>Settings</B>, and then click <B>Control Panel</B>.</li>
	<LI>Click <B>Add or Remove Programs</B>, click <B>Q######</B>, and then click <B>Change or Remove</B>.</li>
	<LI>Follow the instructions that appear on your screen.<P class="note">Note</P>
<P class="indent">You cannot remove hotfixes that were installed by means of the combination installation method.
</li></OL>

<BR><BR>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="97%">
  <TBODY>
  <TR vAlign=bottom>
    <TD>
      <H1><A NAME="copyright_domr"></A> Copyright</H1>
	</TD>
    <TD align=right><A class="finePrint" 
      href="#top">Back 
      to Top</A></TD></TR></TBODY></TABLE>
<HR>

<P>Information in this document, including URL and other Internet Web site references, is subject to change without notice. Unless otherwise noted, the example companies, organizations, products, domain names, e-mail addresses, logos, people, places and events depicted herein are fictitious, and no association with any real company, organization, product, domain name, e-mail address, logo, person, place or event is intended or should be inferred. Complying with all applicable copyright laws is the responsibility of the user. Without limiting the rights under copyright, no part of this document may be reproduced, stored in or introduced into a retrieval system, or transmitted in any form or by any means (electronic, mechanical, photocopying, recording, or otherwise), or for any purpose, without the express written permission of Microsoft Corporation.</P>

<P>Microsoft may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter in this document. Except as expressly provided in any written license agreement from Microsoft, the furnishing of this document does not give you any license to these patents, trademarks, copyrights, or other intellectual property.</P>

<P>&copy; 2002 Microsoft Corporation. All rights reserved.</P>

<P>Microsoft, MS-DOS, Windows, and Windows&nbsp;NT are either registered trademarks or trademarks of Microsoft Corporation in the United States and/or other countries.</P>

<P>This product contains graphics filter software; this software is based in part on the work of the Independent JPEG Group. </P>

<P>The names of actual companies and products mentioned herein may be the trademarks of their respective owners.</P>

<!--RELID:WXSP1.3_EN-->

</body>
</HTML>
